function setupAutoScroll(){0==$("div.alert-box").size()&&"small"!=getWindowsSize()&&setTimeout(function(){$(window).scrollTop()+$(window).height()<=parseInt($("#welcome").css("height"))+100&&("undefined"==typeof coinAnimationStarted||0==coinAnimationStarted)&&autoScrollToWelcome()},4e3)}function autoScrollToWelcome(){0==autoscrolled&&$(window).scrollTop()<=parseInt($("#welcome").css("height"))&&(autoscrolled=!0,moveTo("#what",3e3),analytics.track("AutoScrolled to Welcome section"))}function loadCoinAnimation(){"small"!=getWindowsSize()&&$("#canvas-container").load("/animation",function(){startCoinAnimation()})}function checkCoinAnimationCancel(){(autoscrolled||$(window).scrollTop()>=parseInt($("#welcome").css("height")))&&"undefined"!=typeof coinAnimationStarted&&coinAnimationStarted&&finishCoinAnimation()}function onYouTubeIframeAPIReady(){player=new YT.Player("youtube-video");try{player.addEventListener("onStateChange","onPlayerStateChange"),player.addEventListener("onError","onPlayerError")}catch(err){setTimeout(onYouTubeIframeAPIReady,1e3)}}function onPlayerStateChange(event){event.data==YT.PlayerState.PLAYING&&setTimeout(autoScrollOnVideoFinish,1e3)}function autoScrollOnVideoFinish(){null!=player&&(player.getDuration()-player.getCurrentTime()<=3.5||player.getPlayerState()==YT.PlayerState.ENDED?(player=null,moveTo("#start",3e3),analytics.track("Watched video WhatIsBitcoin")):setTimeout(autoScrollOnVideoFinish,300))}function onPlayerError(){moveTo("#start",2e3)}function updateDemoContent(){setupTouchLayouts(),updateToolTips()}function moveOutDemoTransactionSection(){$(document).ready(function(){1==$("#transactionDemo").children().size()&&$("#transactionDemoPlaceholder").append($("#transference-demo"))})}function moveInDemoTransactionSection(){$(document).ready(function(){1==$("#transactionDemoPlaceholder").children().size()&&$("#transactionDemo").append($("#transference-demo"))})}function loadDemoContent(){($("#demo-content").hasClass("empty-content")||$("#demo-content").hasClass("normal-content"))&&"small"==getWindowsSize()?($("#demo-content").addClass("small-content").removeClass("empty-content").removeClass("normal-content"),moveOutDemoTransactionSection(),$("#demo-content").load("/demo-small",function(){updateDemoContent()})):($("#demo-content").hasClass("empty-content")||$("#demo-content").hasClass("small-content"))&&"small"!=getWindowsSize()&&($("#demo-content").addClass("normal-content").removeClass("empty-content").removeClass("small-content"),$("#demo-content").load("/demo",function(){moveInDemoTransactionSection(),updateDemoContent(),registerDemoParsleyEvents()}))}function showDemoTransaction(){$("#transference-demo").hasClass("available")&&$("#transference-demo").isBottomScrolledIntoView()&&!$("#transference-demo").hasClass("enabled")&&($("#transference-demo").addClass("enabled"),setTimeout(function(){$("#demo-shopping-cart-info").fadeIn(2e3,function(){setTimeout(function(){$("#demo-shopping-cart-content").fadeIn("slow",function(){$("#demo-wallet-send-info").fadeIn(2e3,function(){setTimeout(function(){$("#demo-wallet-send-content").fadeIn("slow"),demo_input_amount_glowing=!0,demo_input_address_glowing=!0,startDemoFieldsGlowing()},1500)})})},1500)})},500))}function showBottomElements(){show_bottom_elements&&$("#transference-demo").isBottomScrolledIntoView()&&setTimeout(function(){$("#get-bitcoins-section").fadeIn("slow"),$("#use").fadeIn("slow"),$("#myths").fadeIn("slow")},500)}function startDemoFieldsGlowing(){demo_input_amount_glowing||demo_input_address_glowing||demo_copy_address_button_glowing?(demo_input_amount_glowing&&(demo_input_amount_glowing_on=!demo_input_amount_glowing_on,demo_input_amount_glowing_on&&!$("#demo-input-amount").parsley().isValid()?$("#demo-input-amount").css("box-shadow","0px 0px 30px #FF5E5E"):$("#demo-input-amount").css("box-shadow","0px 0px 0px #FFF")),demo_input_address_glowing&&(demo_input_address_glowing_on=!demo_input_address_glowing_on,demo_input_address_glowing_on&&!$("#demo-pay-to-address-input").parsley().isValid()?$("#demo-pay-to-address-input").css("box-shadow","0px 0px 30px #FF5E5E"):$("#demo-pay-to-address-input").css("box-shadow","0px 0px 0px #FFF")),demo_copy_address_button_glowing&&(demo_copy_address_button_glowing_on=!demo_copy_address_button_glowing_on,demo_copy_address_button_glowing_on?$("#copy-demo-button").css("box-shadow","0px 0px 50px #EA0000"):$("#copy-demo-button").css("box-shadow","0px 0px 0px #FFF")),setTimeout(function(){startDemoFieldsGlowing()},3e3)):($("#demo-input-amount").css("box-shadow","0px 0px 0px #FFF"),$("#demo-pay-to-address-input").css("box-shadow","0px 0px 0px #FFF"),$("#copy-demo-button").css("box-shadow","0px 0px 0px #FFF"))}function registerDemoParsleyEvents(){$("#demo-input-amount").parsley().subscribe("parsley:field:validate",function(){var current_value=$("#demo-input-amount").val();if(!$("#demo-input-amount").parsley().isValid()&&-1!=current_value.indexOf(",")){var res=current_value.replace(",",".");$("#demo-input-amount").val(res),$("#demo-input-amount").parsley().validate()}})}function enable_bottom_sections_after_demo(){$("#show-blockchain-section").fadeIn("slow"),show_bottom_elements=!0,$("#mining-content").load("/mining"),$("#mining-POW-content").load("/mining-POW")}function setupActiveJavaScript(){$("#welcome-content").css({position:"fixed",margin:"0 0 0 -37.5%"})}function getWindowsSize(){return $("#breakpoints div:visible").first().data("size")}function moveTo(id,speed){speed="undefined"==typeof speed?1e3:speed;var offset=20,target=$(id).offset().top-offset;$("html, body").animate({scrollTop:target},speed,"easeInOutCubic")}function setupNavigationMenu(){$("div.navigation-menu").on({mouseenter:function(){window["mouse-over-navigation-menu"]=!0,$("#navigation-menu-icon").slideUp(200),setTimeout(function(){window["mouse-over-navigation-menu"]&&$("div.navigation-menu").find("div.navigation-content").slideDown(200).removeClass("hidden")},200)},mouseleave:function(){window["mouse-over-navigation-menu"]=!1,setTimeout(function(){window["mouse-over-navigation-menu"]||($("div.navigation-menu").find("div.navigation-content").slideUp(200).addClass("hidden",400),setTimeout(function(){window["mouse-over-navigation-menu"]||$("#navigation-menu-icon").slideDown(200)},200))},200)}}),$('a[href^="#"]').click(function(event){var id=$(this).attr("href");moveTo(id),event.preventDefault()})}function setupScrollHintAnimation(){$(window).scrollTop()<=parseInt($("#welcome").css("height"))&&$("#scroll-arrow").animate({top:"+=40"},4e3,"easeInOutQuart")}function getScrolledItems(elem){var docViewTop=$(window).scrollTop(),docViewBottom=docViewTop+$(window).height(),elemTop=$(elem).offset().top,elemBottom=elemTop+$(elem).height();return[docViewTop,docViewBottom,elemTop,elemBottom]}function scrollFading(){if(scrollFadingBlocked)return null!=scrollFadingChecker&&(clearTimeout(scrollFadingChecker),scrollFadingChecker=null),void(scrollFadingChecker=setTimeout(200,scrollFading));scrollFadingBlocked=!0;var sizeWelcome=parseInt($("#welcome").css("height")),scrolled=1.5*$(window).scrollTop(),percentage=1-scrolled/sizeWelcome;0>=percentage?(percentage=0,$("#welcome-content").addClass("hidden"),$("#coin-canvas").css("opacity",0)):($("#welcome-content").removeClass("hidden"),$("#welcome-content").css("opacity",percentage),$("#coin-canvas").css("opacity",percentage),$("#welcome-content").find("div#scroll-message").css("opacity",percentage-scrolled/sizeWelcome),"large"==getWindowsSize()&&(.6>percentage?$("#welcome-content").find("h1").addClass("de_extruded").removeClass("extruded"):$("#welcome-content").find("h1").addClass("extruded").removeClass("de_extruded"),.83>percentage?$("#welcome-content").find("h2").addClass("de_extruded-subtitle").removeClass("extruded-subtitle"):$("#welcome-content").find("h2").addClass("extruded-subtitle").removeClass("de_extruded-subtitle")));var sizeWelcomeAndWhat=parseInt($("#welcome").css("height"))+parseInt($("#what").css("height"))/2,footsteps_opacity=scrolled/sizeWelcomeAndWhat;$("#footsteps-image").css("opacity",footsteps_opacity/2),checkCoinAnimationCancel(),showDemoTransaction(),showBottomElements(),scrollFadingBlocked=!1}function setupScrollFadingAndResize(){$("body,html").bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(e){(e.which>0||"mousedown"===e.type||"mousewheel"===e.type)&&$("html,body").stop()})}function updateSizes(){$(document).ready(function(){var video_width=($("#youtube-video-container").height(),$("#youtube-video-container").width()),space_side_video=($(window).width()-video_width)/2,ratio=space_side_video/178,youtube_aspect_ratio=.5625;if($("#youtube-video").width(parseInt(video_width)).height(parseInt(youtube_aspect_ratio*video_width)),$("#youtube-video-container").css("padding-bottom",$("#youtube-video").height()+10+"px"),$("#footsteps-image").width(parseInt(174*ratio)),$("#footsteps-image").height(parseInt(444*ratio)),$("#footsteps-image").css("top","-"+$("#youtube-video").height()/2+"px"),$("div#what").height(parseInt($(".video-container").find("iframe").height()+$("div#what").find("h1").height()+$("div#what").find("h3").height())+170),"medium"==getWindowsSize()){var element=$("div.right-border");element.removeClass("right-border"),element.addClass("bottom-border")}else if("large"==getWindowsSize()){var element=$("div.bottom-border");element.removeClass("bottom-border"),element.addClass("right-border")}"undefined"!=typeof coinAnimationStarted&&("small"==getWindowsSize()?finishCoinAnimation():coinAnimationFinished?finishCoinAnimation():positionCoinAnimationCanvas())})}function resizeWindow(){$(document).ready(function(){loadDemoContent(),updateSizes()})}function setupTouchLayouts(){Modernizr.touch&&$(".wallet-info").addClass("touch-wallet-border")}function detectLocation(){jQuery.getJSON("http://freegeoip.net/json/",function(location){user_location=location})}function loadLocalBitcoinSellers(){$("#bitcoin-sellers").children().remove();var cc=user_location.country_code;("NL"==cc||"BE"==cc||"LU"==cc)&&($("#bitcoin-sellers").append('<a href="https://bitonic.nl/?refcode=8w0UlJ123111" target="_blank"> Bitonic </a>'),$("#bitcoin-sellers").append('<a href="https://www.happycoins.com/Account/Index/eb754703-5a33-46fd-b0d2-9a2bb7e465e3" target="_blank"> HappyCoins </a>')),("GB"==cc||"SE"==cc||"NL"==cc||"DE"==cc||"FR"==cc||"IT"==cc||"ES"==cc||"PL"==cc||"HU"==cc)&&$("#bitcoin-sellers").append('<a href="https://safello.com/buy" target="_blank"> Safello </a>'),("GB"==cc||"SE"==cc||"NL"==cc||"DE"==cc||"FR"==cc||"IT"==cc||"ES"==cc||"PL"==cc||"HU"==cc||"PT"==cc||"LI"==cc||"LU"==cc||"BE"==cc||"AT"==cc)&&$("#bitcoin-sellers").append('<a href="https://bittylicious.com/r/19542" target="_blank"> Bittylicious </a>'),"RU"==cc&&$("#bitcoin-sellers").append('<a href="https://btc-e.com" target="_blank"> BTC-e </a>'),"US"==cc&&($("#bitcoin-sellers").append('<a href="https://coinbase.com/?r=52ac992c01478f0e730000b9&utm_campaign=user-referral&src=referral-link" target="_blank"> coinbase </a>'),$("#bitcoin-sellers").append('<a href="http://www.expresscoin.com/" target="_blank"> expresscoin </a>'))}function updateToolTips(){$(document).ready(function(){$(".has-tooltip[title]").qtip({style:{classes:"tooltip-text qtip-youtube qtip-shadow qtip-rounded"},position:{my:"bottom center",at:"top center",target:this},hide:{fixed:!0,delay:200}}),$(".has-external-tooltip").each(function(){$(this).qtip({content:{text:$("#"+$(this).attr("tooltip-id"))},style:{classes:"tooltip-text qtip-youtube qtip-shadow qtip-rounded"},position:{my:"bottom center",at:"top center",target:this},hide:{fixed:!0,delay:200}})})})}!function($,undefined){$.rails!==undefined&&$.error("jquery-ujs has already been loaded!");var rails,$document=$(document);$.rails=rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(xhr){var token=$('meta[name="csrf-token"]').attr("content");token&&xhr.setRequestHeader("X-CSRF-Token",token)},refreshCSRFTokens:function(){var csrfToken=$("meta[name=csrf-token]").attr("content"),csrfParam=$("meta[name=csrf-param]").attr("content");$('form input[name="'+csrfParam+'"]').val(csrfToken)},fire:function(obj,name,data){var event=$.Event(name);return obj.trigger(event,data),event.result!==!1},confirm:function(message){return confirm(message)},ajax:function(options){return $.ajax(options)},href:function(element){return element.attr("href")},handleRemote:function(element){var method,url,data,elCrossDomain,crossDomain,withCredentials,dataType,options;if(rails.fire(element,"ajax:before")){if(elCrossDomain=element.data("cross-domain"),crossDomain=elCrossDomain===undefined?null:elCrossDomain,withCredentials=element.data("with-credentials")||null,dataType=element.data("type")||$.ajaxSettings&&$.ajaxSettings.dataType,element.is("form")){method=element.attr("method"),url=element.attr("action"),data=element.serializeArray();var button=element.data("ujs:submit-button");button&&(data.push(button),element.data("ujs:submit-button",null))}else element.is(rails.inputChangeSelector)?(method=element.data("method"),url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):element.is(rails.buttonClickSelector)?(method=element.data("method")||"get",url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):(method=element.data("method"),url=rails.href(element),data=element.data("params")||null);options={type:method||"GET",data:data,dataType:dataType,beforeSend:function(xhr,settings){return settings.dataType===undefined&&xhr.setRequestHeader("accept","*/*;q=0.5, "+settings.accepts.script),rails.fire(element,"ajax:beforeSend",[xhr,settings])},success:function(data,status,xhr){element.trigger("ajax:success",[data,status,xhr])},complete:function(xhr,status){element.trigger("ajax:complete",[xhr,status])},error:function(xhr,status,error){element.trigger("ajax:error",[xhr,status,error])},crossDomain:crossDomain},withCredentials&&(options.xhrFields={withCredentials:withCredentials}),url&&(options.url=url);var jqxhr=rails.ajax(options);return element.trigger("ajax:send",jqxhr),jqxhr}return!1},handleMethod:function(link){var href=rails.href(link),method=link.data("method"),target=link.attr("target"),csrfToken=$("meta[name=csrf-token]").attr("content"),csrfParam=$("meta[name=csrf-param]").attr("content"),form=$('<form method="post" action="'+href+'"></form>'),metadataInput='<input name="_method" value="'+method+'" type="hidden" />';csrfParam!==undefined&&csrfToken!==undefined&&(metadataInput+='<input name="'+csrfParam+'" value="'+csrfToken+'" type="hidden" />'),target&&form.attr("target",target),form.hide().append(metadataInput).appendTo("body"),form.submit()},disableFormElements:function(form){form.find(rails.disableSelector).each(function(){var element=$(this),method=element.is("button")?"html":"val";element.data("ujs:enable-with",element[method]()),element[method](element.data("disable-with")),element.prop("disabled",!0)})},enableFormElements:function(form){form.find(rails.enableSelector).each(function(){var element=$(this),method=element.is("button")?"html":"val";element.data("ujs:enable-with")&&element[method](element.data("ujs:enable-with")),element.prop("disabled",!1)})},allowAction:function(element){var callback,message=element.data("confirm"),answer=!1;return message?(rails.fire(element,"confirm")&&(answer=rails.confirm(message),callback=rails.fire(element,"confirm:complete",[answer])),answer&&callback):!0},blankInputs:function(form,specifiedSelector,nonBlank){var input,valueToCheck,inputs=$(),selector=specifiedSelector||"input,textarea",allInputs=form.find(selector);return allInputs.each(function(){if(input=$(this),valueToCheck=input.is("input[type=checkbox],input[type=radio]")?input.is(":checked"):input.val(),!valueToCheck==!nonBlank){if(input.is("input[type=radio]")&&allInputs.filter('input[type=radio]:checked[name="'+input.attr("name")+'"]').length)return!0;inputs=inputs.add(input)}}),inputs.length?inputs:!1},nonBlankInputs:function(form,specifiedSelector){return rails.blankInputs(form,specifiedSelector,!0)},stopEverything:function(e){return $(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(element){element.data("ujs:enable-with",element.html()),element.html(element.data("disable-with")),element.bind("click.railsDisable",function(e){return rails.stopEverything(e)})},enableElement:function(element){element.data("ujs:enable-with")!==undefined&&(element.html(element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.unbind("click.railsDisable")}},rails.fire($document,"rails:attachBindings")&&($.ajaxPrefilter(function(options,originalOptions,xhr){options.crossDomain||rails.CSRFProtection(xhr)}),$document.delegate(rails.linkDisableSelector,"ajax:complete",function(){rails.enableElement($(this))}),$document.delegate(rails.linkClickSelector,"click.rails",function(e){var link=$(this),method=link.data("method"),data=link.data("params"),metaClick=e.metaKey||e.ctrlKey;if(!rails.allowAction(link))return rails.stopEverything(e);if(!metaClick&&link.is(rails.linkDisableSelector)&&rails.disableElement(link),link.data("remote")!==undefined){if(metaClick&&(!method||"GET"===method)&&!data)return!0;var handleRemote=rails.handleRemote(link);return handleRemote===!1?rails.enableElement(link):handleRemote.error(function(){rails.enableElement(link)}),!1}return link.data("method")?(rails.handleMethod(link),!1):void 0}),$document.delegate(rails.buttonClickSelector,"click.rails",function(e){var button=$(this);return rails.allowAction(button)?(rails.handleRemote(button),!1):rails.stopEverything(e)}),$document.delegate(rails.inputChangeSelector,"change.rails",function(e){var link=$(this);return rails.allowAction(link)?(rails.handleRemote(link),!1):rails.stopEverything(e)}),$document.delegate(rails.formSubmitSelector,"submit.rails",function(e){var form=$(this),remote=form.data("remote")!==undefined,blankRequiredInputs=rails.blankInputs(form,rails.requiredInputSelector),nonBlankFileInputs=rails.nonBlankInputs(form,rails.fileInputSelector);if(!rails.allowAction(form))return rails.stopEverything(e);if(blankRequiredInputs&&form.attr("novalidate")==undefined&&rails.fire(form,"ajax:aborted:required",[blankRequiredInputs]))return rails.stopEverything(e);if(remote){if(nonBlankFileInputs){setTimeout(function(){rails.disableFormElements(form)},13);var aborted=rails.fire(form,"ajax:aborted:file",[nonBlankFileInputs]);return aborted||setTimeout(function(){rails.enableFormElements(form)},13),aborted}return rails.handleRemote(form),!1}setTimeout(function(){rails.disableFormElements(form)},13)}),$document.delegate(rails.formInputClickSelector,"click.rails",function(event){var button=$(this);if(!rails.allowAction(button))return rails.stopEverything(event);var name=button.attr("name"),data=name?{name:name,value:button.val()}:null;button.closest("form").data("ujs:submit-button",data)}),$document.delegate(rails.formSubmitSelector,"ajax:beforeSend.rails",function(event){this==event.target&&rails.disableFormElements($(this))}),$document.delegate(rails.formSubmitSelector,"ajax:complete.rails",function(event){this==event.target&&rails.enableFormElements($(this))}),$(function(){rails.refreshCSRFTokens()}))}(jQuery),function(){var CSRFToken,Click,ComponentUrl,Link,browserCompatibleDocumentParser,browserIsntBuggy,browserSupportsCustomEvents,browserSupportsPushState,browserSupportsTurbolinks,bypassOnLoadPopstate,cacheCurrentPage,cacheSize,changePage,constrainPageCacheTo,createDocument,currentState,enableTransitionCache,executeScriptTags,extractTitleAndBody,fetch,fetchHistory,fetchReplacement,historyStateIsDefined,initializeTurbolinks,installDocumentReadyPageEventTriggers,installHistoryChangeHandler,installJqueryAjaxSuccessPageUpdateTrigger,loadedAssets,pageCache,pageChangePrevented,pagesCached,popCookie,processResponse,recallScrollPosition,referer,reflectNewUrl,reflectRedirectedUrl,rememberCurrentState,rememberCurrentUrl,rememberReferer,removeNoscriptTags,requestMethodIsSafe,resetScrollPosition,transitionCacheEnabled,transitionCacheFor,triggerEvent,visit,xhr,_ref,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1},__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__slice=[].slice;pageCache={},cacheSize=10,transitionCacheEnabled=!1,currentState=null,loadedAssets=null,referer=null,createDocument=null,xhr=null,fetch=function(url){var cachedPage;return url=new ComponentUrl(url),rememberReferer(),cacheCurrentPage(),reflectNewUrl(url),transitionCacheEnabled&&(cachedPage=transitionCacheFor(url.absolute))?(fetchHistory(cachedPage),fetchReplacement(url)):fetchReplacement(url,resetScrollPosition)},transitionCacheFor=function(url){var cachedPage;return cachedPage=pageCache[url],cachedPage&&!cachedPage.transitionCacheDisabled?cachedPage:void 0},enableTransitionCache=function(enable){return null==enable&&(enable=!0),transitionCacheEnabled=enable},fetchReplacement=function(url,onLoadFunction){return null==onLoadFunction&&(onLoadFunction=function(){return function(){}}(this)),triggerEvent("page:fetch",{url:url.absolute}),null!=xhr&&xhr.abort(),xhr=new XMLHttpRequest,xhr.open("GET",url.withoutHashForIE10compatibility(),!0),xhr.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),xhr.setRequestHeader("X-XHR-Referer",referer),xhr.onload=function(){var doc;return triggerEvent("page:receive"),(doc=processResponse())?(changePage.apply(null,extractTitleAndBody(doc)),reflectRedirectedUrl(),onLoadFunction(),triggerEvent("page:load")):document.location.href=url.absolute},xhr.onloadend=function(){return xhr=null},xhr.onerror=function(){return document.location.href=url.absolute},xhr.send()},fetchHistory=function(cachedPage){return null!=xhr&&xhr.abort(),changePage(cachedPage.title,cachedPage.body),recallScrollPosition(cachedPage),triggerEvent("page:restore")},cacheCurrentPage=function(){var currentStateUrl;return currentStateUrl=new ComponentUrl(currentState.url),pageCache[currentStateUrl.absolute]={url:currentStateUrl.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},constrainPageCacheTo(cacheSize)},pagesCached=function(size){return null==size&&(size=cacheSize),/^[\d]+$/.test(size)?cacheSize=parseInt(size):void 0},constrainPageCacheTo=function(limit){var cacheTimesRecentFirst,key,pageCacheKeys,_i,_len,_results;for(pageCacheKeys=Object.keys(pageCache),cacheTimesRecentFirst=pageCacheKeys.map(function(url){return pageCache[url].cachedAt}).sort(function(a,b){return b-a}),_results=[],_i=0,_len=pageCacheKeys.length;_len>_i;_i++)key=pageCacheKeys[_i],pageCache[key].cachedAt<=cacheTimesRecentFirst[limit]&&(triggerEvent("page:expire",pageCache[key]),_results.push(delete pageCache[key]));return _results},changePage=function(title,body,csrfToken,runScripts){return document.title=title,document.documentElement.replaceChild(body,document.body),null!=csrfToken&&CSRFToken.update(csrfToken),runScripts&&executeScriptTags(),currentState=window.history.state,triggerEvent("page:change"),triggerEvent("page:update")},executeScriptTags=function(){var attr,copy,nextSibling,parentNode,script,scripts,_i,_j,_len,_len1,_ref,_ref1;for(scripts=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),_i=0,_len=scripts.length;_len>_i;_i++)if(script=scripts[_i],""===(_ref=script.type)||"text/javascript"===_ref){for(copy=document.createElement("script"),_ref1=script.attributes,_j=0,_len1=_ref1.length;_len1>_j;_j++)attr=_ref1[_j],copy.setAttribute(attr.name,attr.value);copy.appendChild(document.createTextNode(script.innerHTML)),parentNode=script.parentNode,nextSibling=script.nextSibling,parentNode.removeChild(script),parentNode.insertBefore(copy,nextSibling)}},removeNoscriptTags=function(node){return node.innerHTML=node.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),node},reflectNewUrl=function(url){return(url=new ComponentUrl(url)).absolute!==referer?window.history.pushState({turbolinks:!0,url:url.absolute},"",url.absolute):void 0},reflectRedirectedUrl=function(){var location,preservedHash;return(location=xhr.getResponseHeader("X-XHR-Redirected-To"))?(location=new ComponentUrl(location),preservedHash=location.hasNoHash()?document.location.hash:"",window.history.replaceState(currentState,"",location.href+preservedHash)):void 0},rememberReferer=function(){return referer=document.location.href},rememberCurrentUrl=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},rememberCurrentState=function(){return currentState=window.history.state},recallScrollPosition=function(page){return window.scrollTo(page.positionX,page.positionY)},resetScrollPosition=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},popCookie=function(name){var value,_ref;return value=(null!=(_ref=document.cookie.match(new RegExp(name+"=(\\w+)")))?_ref[1].toUpperCase():void 0)||"",document.cookie=name+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",value},triggerEvent=function(name,data){var event;return event=document.createEvent("Events"),data&&(event.data=data),event.initEvent(name,!0,!0),document.dispatchEvent(event)},pageChangePrevented=function(){return!triggerEvent("page:before-change")},processResponse=function(){var assetsChanged,clientOrServerError,doc,extractTrackAssets,intersection,validContent;return clientOrServerError=function(){var _ref;return 400<=(_ref=xhr.status)&&600>_ref},validContent=function(){return xhr.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},extractTrackAssets=function(doc){var node,_i,_len,_ref,_results;for(_ref=doc.head.childNodes,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)node=_ref[_i],null!=("function"==typeof node.getAttribute?node.getAttribute("data-turbolinks-track"):void 0)&&_results.push(node.getAttribute("src")||node.getAttribute("href"));return _results},assetsChanged=function(doc){var fetchedAssets;return loadedAssets||(loadedAssets=extractTrackAssets(document)),fetchedAssets=extractTrackAssets(doc),fetchedAssets.length!==loadedAssets.length||intersection(fetchedAssets,loadedAssets).length!==loadedAssets.length},intersection=function(a,b){var value,_i,_len,_ref,_results;for(a.length>b.length&&(_ref=[b,a],a=_ref[0],b=_ref[1]),_results=[],_i=0,_len=a.length;_len>_i;_i++)value=a[_i],__indexOf.call(b,value)>=0&&_results.push(value);return _results},!clientOrServerError()&&validContent()&&(doc=createDocument(xhr.responseText),doc&&!assetsChanged(doc))?doc:void 0},extractTitleAndBody=function(doc){var title;return title=doc.querySelector("title"),[null!=title?title.textContent:void 0,removeNoscriptTags(doc.body),CSRFToken.get(doc).token,"runScripts"]},CSRFToken={get:function(doc){var tag;return null==doc&&(doc=document),{node:tag=doc.querySelector('meta[name="csrf-token"]'),token:null!=tag&&"function"==typeof tag.getAttribute?tag.getAttribute("content"):void 0}},update:function(latest){var current;return current=this.get(),null!=current.token&&null!=latest&&current.token!==latest?current.node.setAttribute("content",latest):void 0}},browserCompatibleDocumentParser=function(){var createDocumentUsingDOM,createDocumentUsingParser,createDocumentUsingWrite,e,testDoc,_ref;createDocumentUsingParser=function(html){return(new DOMParser).parseFromString(html,"text/html")},createDocumentUsingDOM=function(html){var doc;return doc=document.implementation.createHTMLDocument(""),doc.documentElement.innerHTML=html,doc},createDocumentUsingWrite=function(html){var doc;return doc=document.implementation.createHTMLDocument(""),doc.open("replace"),doc.write(html),doc.close(),doc};try{if(window.DOMParser)return testDoc=createDocumentUsingParser("<html><body><p>test"),createDocumentUsingParser}catch(_error){return e=_error,testDoc=createDocumentUsingDOM("<html><body><p>test"),createDocumentUsingDOM}finally{if(1!==(null!=testDoc&&null!=(_ref=testDoc.body)?_ref.childNodes.length:void 0))return createDocumentUsingWrite}},ComponentUrl=function(){function ComponentUrl(original){return this.original=null!=original?original:document.location.href,this.original.constructor===ComponentUrl?this.original:void this._parse()}return ComponentUrl.prototype.withoutHash=function(){return this.href.replace(this.hash,"")},ComponentUrl.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},ComponentUrl.prototype.hasNoHash=function(){return 0===this.hash.length},ComponentUrl.prototype._parse=function(){var _ref;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,_ref=this.link,this.href=_ref.href,this.protocol=_ref.protocol,this.host=_ref.host,this.hostname=_ref.hostname,this.port=_ref.port,this.pathname=_ref.pathname,this.search=_ref.search,this.hash=_ref.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},ComponentUrl}(),Link=function(_super){function Link(link){return this.link=link,this.link.constructor===Link?this.link:(this.original=this.link.href,void Link.__super__.constructor.apply(this,arguments))}return __extends(Link,_super),Link.HTML_EXTENSIONS=["html"],Link.allowExtensions=function(){var extension,extensions,_i,_len;for(extensions=1<=arguments.length?__slice.call(arguments,0):[],_i=0,_len=extensions.length;_len>_i;_i++)extension=extensions[_i],Link.HTML_EXTENSIONS.push(extension);return Link.HTML_EXTENSIONS},Link.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},Link.prototype._crossOrigin=function(){return this.origin!==(new ComponentUrl).origin},Link.prototype._anchored=function(){var current;return(this.hash&&this.withoutHash())===(current=new ComponentUrl).withoutHash()||this.href===current.href+"#"},Link.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+Link.HTML_EXTENSIONS.join("|")+")?$","g"))},Link.prototype._optOut=function(){var ignore,link;for(link=this.link;!ignore&&link!==document;)ignore=null!=link.getAttribute("data-no-turbolink"),link=link.parentNode;return ignore},Link.prototype._target=function(){return 0!==this.link.target.length},Link}(ComponentUrl),Click=function(){function Click(event){this.event=event,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(pageChangePrevented()||visit(this.link.href),this.event.preventDefault()))}return Click.installHandlerLast=function(event){return event.defaultPrevented?void 0:(document.removeEventListener("click",Click.handle,!1),document.addEventListener("click",Click.handle,!1))},Click.handle=function(event){return new Click(event)},Click.prototype._extractLink=function(){var link;for(link=this.event.target;link.parentNode&&"A"!==link.nodeName;)link=link.parentNode;return"A"===link.nodeName&&0!==link.href.length?this.link=new Link(link):void 0},Click.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},Click.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},Click}(),bypassOnLoadPopstate=function(fn){return setTimeout(fn,500)},installDocumentReadyPageEventTriggers=function(){return document.addEventListener("DOMContentLoaded",function(){return triggerEvent("page:change"),triggerEvent("page:update")
},!0)},installJqueryAjaxSuccessPageUpdateTrigger=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(event,xhr){return jQuery.trim(xhr.responseText)?triggerEvent("page:update"):void 0}):void 0},installHistoryChangeHandler=function(event){var cachedPage,_ref;return(null!=(_ref=event.state)?_ref.turbolinks:void 0)?(cachedPage=pageCache[new ComponentUrl(event.state.url).absolute])?(cacheCurrentPage(),fetchHistory(cachedPage)):visit(event.target.location.href):void 0},initializeTurbolinks=function(){return rememberCurrentUrl(),rememberCurrentState(),createDocument=browserCompatibleDocumentParser(),document.addEventListener("click",Click.installHandlerLast,!0),bypassOnLoadPopstate(function(){return window.addEventListener("popstate",installHistoryChangeHandler,!1)})},historyStateIsDefined=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),browserSupportsPushState=window.history&&window.history.pushState&&window.history.replaceState&&historyStateIsDefined,browserIsntBuggy=!navigator.userAgent.match(/CriOS\//),requestMethodIsSafe="GET"===(_ref=popCookie("request_method"))||""===_ref,browserSupportsTurbolinks=browserSupportsPushState&&browserIsntBuggy&&requestMethodIsSafe,browserSupportsCustomEvents=document.addEventListener&&document.createEvent,browserSupportsCustomEvents&&(installDocumentReadyPageEventTriggers(),installJqueryAjaxSuccessPageUpdateTrigger()),browserSupportsTurbolinks?(visit=fetch,initializeTurbolinks()):visit=function(url){return document.location.href=url},this.Turbolinks={visit:visit,pagesCached:pagesCached,enableTransitionCache:enableTransitionCache,allowLinkExtensions:Link.allowExtensions,supported:browserSupportsTurbolinks}}.call(this),/*
 * Foundation Responsive Library
 * http://foundation.zurb.com
 * Copyright 2014, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
function($,window,document,undefined){"use strict";function removeQuotes(string){return("string"==typeof string||string instanceof String)&&(string=string.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),string}var header_helpers=function(class_array){for(var i=class_array.length,head=$("head");i--;)0===head.has("."+class_array[i]).length&&head.append('<meta class="'+class_array[i]+'" />')};header_helpers(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),$(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof document.body&&FastClick.attach(document.body)});var S=function(selector,context){if("string"==typeof selector){if(context){var cont;if(context.jquery){if(cont=context[0],!cont)return context}else cont=context;return $(cont.querySelectorAll(selector))}return $(document.querySelectorAll(selector))}return $(selector,context)},attr_name=function(init){var arr=[];return init||arr.push("data"),this.namespace.length>0&&arr.push(this.namespace),arr.push(this.name),arr.join("-")},add_namespace=function(str){for(var parts=str.split("-"),i=parts.length,arr=[];i--;)0!==i?arr.push(parts[i]):this.namespace.length>0?arr.push(this.namespace,parts[i]):arr.push(parts[i]);return arr.reverse().join("-")},bindings=function(method,options){var self=this,should_bind_events=!S(this).data(this.attr_name(!0));return"string"==typeof method?this[method].call(this,options):void(S(this.scope).is("["+this.attr_name()+"]")?(S(this.scope).data(this.attr_name(!0)+"-init",$.extend({},this.settings,options||method,this.data_options(S(this.scope)))),should_bind_events&&this.events(this.scope)):S("["+this.attr_name()+"]",this.scope).each(function(){var should_bind_events=!S(this).data(self.attr_name(!0)+"-init");S(this).data(self.attr_name(!0)+"-init",$.extend({},self.settings,options||method,self.data_options(S(this)))),should_bind_events&&self.events(this)}))},single_image_loaded=function(image,callback){function loaded(){callback(image[0])}function bindLoad(){if(this.one("load",loaded),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var src=this.attr("src"),param=src.match(/\?/)?"&":"?";param+="random="+(new Date).getTime(),this.attr("src",src+param)}}return image.attr("src")?void(image[0].complete||4===image[0].readyState?loaded():bindLoad.call(image)):void loaded()};window.matchMedia=window.matchMedia||function(doc){var bool,docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement("body"),div=doc.createElement("div");return div.id="mq-test-1",div.style.cssText="position:absolute;top:-100em",fakeBody.style.background="none",fakeBody.appendChild(div),function(q){return div.innerHTML='&shy;<style media="'+q+'"> #mq-test-1 { width: 42px; }</style>',docElem.insertBefore(fakeBody,refNode),bool=42===div.offsetWidth,docElem.removeChild(fakeBody),{matches:bool,media:q}}}(document),/*
   * jquery.requestAnimationFrame
   * https://github.com/gnarf37/jquery-requestAnimationFrame
   * Requires jQuery 1.8+
   *
   * Copyright (c) 2012 Corey Frang
   * Licensed under the MIT license.
   */
function(){function raf(){animating&&(requestAnimationFrame(raf),jqueryFxAvailable&&jQuery.fx.tick())}for(var animating,lastTime=0,vendors=["webkit","moz"],requestAnimationFrame=window.requestAnimationFrame,cancelAnimationFrame=window.cancelAnimationFrame,jqueryFxAvailable="undefined"!=typeof jQuery.fx;lastTime<vendors.length&&!requestAnimationFrame;lastTime++)requestAnimationFrame=window[vendors[lastTime]+"RequestAnimationFrame"],cancelAnimationFrame=cancelAnimationFrame||window[vendors[lastTime]+"CancelAnimationFrame"]||window[vendors[lastTime]+"CancelRequestAnimationFrame"];requestAnimationFrame?(window.requestAnimationFrame=requestAnimationFrame,window.cancelAnimationFrame=cancelAnimationFrame,jqueryFxAvailable&&(jQuery.fx.timer=function(timer){timer()&&jQuery.timers.push(timer)&&!animating&&(animating=!0,raf())},jQuery.fx.stop=function(){animating=!1})):(window.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id},window.cancelAnimationFrame=function(id){clearTimeout(id)})}(jQuery),window.Foundation={name:"Foundation",version:"5.2.2",media_queries:{small:S(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:S(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:S(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:S(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:S(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:$("<style></style>").appendTo("head")[0].sheet,global:{namespace:undefined},init:function(scope,libraries,method,options,response){var args=[scope,method,options,response],responses=[];if(this.rtl=/rtl/i.test(S("html").attr("dir")),this.scope=scope||this.scope,this.set_namespace(),libraries&&"string"==typeof libraries&&!/reflow/i.test(libraries))this.libs.hasOwnProperty(libraries)&&responses.push(this.init_lib(libraries,args));else for(var lib in this.libs)responses.push(this.init_lib(lib,libraries));return scope},init_lib:function(lib,args){return this.libs.hasOwnProperty(lib)?(this.patch(this.libs[lib]),args&&args.hasOwnProperty(lib)?("undefined"!=typeof this.libs[lib].settings?$.extend(!0,this.libs[lib].settings,args[lib]):"undefined"!=typeof this.libs[lib].defaults&&$.extend(!0,this.libs[lib].defaults,args[lib]),this.libs[lib].init.apply(this.libs[lib],[this.scope,args[lib]])):(args=args instanceof Array?args:new Array(args),this.libs[lib].init.apply(this.libs[lib],args))):function(){}},patch:function(lib){lib.scope=this.scope,lib.namespace=this.global.namespace,lib.rtl=this.rtl,lib.data_options=this.utils.data_options,lib.attr_name=attr_name,lib.add_namespace=add_namespace,lib.bindings=bindings,lib.S=this.utils.S},inherit:function(scope,methods){for(var methods_arr=methods.split(" "),i=methods_arr.length;i--;)this.utils.hasOwnProperty(methods_arr[i])&&(scope[methods_arr[i]]=this.utils[methods_arr[i]])},set_namespace:function(){var namespace=this.global.namespace===undefined?$(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=namespace===undefined||/false/i.test(namespace)?"":namespace},libs:{},utils:{S:S,throttle:function(func,delay){var timer=null;return function(){var context=this,args=arguments;null==timer&&(timer=setTimeout(function(){func.apply(context,args),timer=null},delay))}},debounce:function(func,delay,immediate){var timeout,result;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,delay),callNow&&(result=func.apply(context,args)),result}},data_options:function(el){function isNumber(o){return!isNaN(o-0)&&null!==o&&""!==o&&o!==!1&&o!==!0}function trim(str){return"string"==typeof str?$.trim(str):str}var ii,p,opts_arr,opts={},data_options=function(el){var namespace=Foundation.global.namespace;return el.data(namespace.length>0?namespace+"-options":"options")},cached_options=data_options(el);if("object"==typeof cached_options)return cached_options;for(opts_arr=(cached_options||":").split(";"),ii=opts_arr.length;ii--;)p=opts_arr[ii].split(":"),/true/i.test(p[1])&&(p[1]=!0),/false/i.test(p[1])&&(p[1]=!1),isNumber(p[1])&&(p[1]=-1===p[1].indexOf(".")?parseInt(p[1],10):parseFloat(p[1])),2===p.length&&p[0].length>0&&(opts[trim(p[0])]=trim(p[1]));return opts},register_media:function(media,media_class){Foundation.media_queries[media]===undefined&&($("head").append('<meta class="'+media_class+'">'),Foundation.media_queries[media]=removeQuotes($("."+media_class).css("font-family")))},add_custom_rule:function(rule,media){if(media===undefined)Foundation.stylesheet.insertRule(rule,Foundation.stylesheet.cssRules.length);else{var query=Foundation.media_queries[media];query!==undefined&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[media]+"{ "+rule+" }")}},image_loaded:function(images,callback){var self=this,unloaded=images.length;0===unloaded&&callback(images),images.each(function(){single_image_loaded(self.S(this),function(){unloaded-=1,0===unloaded&&callback(images)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)}}},$.fn.foundation=function(){var args=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(args)),this})}}(jQuery,this,this.document),function($,window,document){"use strict";Foundation.libs.abide={name:"abide",version:"5.2.2",settings:{live_validate:!0,focus_on_invalid:!0,error_labels:!0,timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:\.\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(el){var from=document.getElementById(el.getAttribute(this.add_namespace("data-equalto"))).value,to=el.value,valid=from===to;return valid}}},timer:null,init:function(scope,method,options){this.bindings(method,options)},events:function(scope){var self=this,form=self.S(scope).attr("novalidate","novalidate"),settings=form.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),form.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(e){var is_ajax=/ajax/i.test(self.S(this).attr(self.attr_name()));return self.validate(self.S(this).find("input, textarea, select").get(),e,is_ajax)}).on("reset",function(){return self.reset($(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(e){self.validate([this],e)}).on("keydown.fndtn.abide",function(e){settings.live_validate===!0&&(clearTimeout(self.timer),self.timer=setTimeout(function(){self.validate([this],e)}.bind(this),settings.timeout))})},reset:function(form){form.removeAttr(this.invalid_attr),$(this.invalid_attr,form).removeAttr(this.invalid_attr),$(".error",form).not("small").removeClass("error")},validate:function(els,e,is_ajax){var validations=this.parse_patterns(els),validation_count=validations.length,form=this.S(els[0]).closest("[data-"+this.attr_name(!0)+"]"),settings=form.data(this.attr_name(!0)+"-init")||{},submit_event=/submit/.test(e.type);form.trigger("validated");for(var i=0;validation_count>i;i++)if(!validations[i]&&(submit_event||is_ajax))return settings.focus_on_invalid&&els[i].focus(),form.trigger("invalid"),this.S(els[i]).closest("[data-"+this.attr_name(!0)+"]").attr(this.invalid_attr,""),!1;return(submit_event||is_ajax)&&form.trigger("valid"),form.removeAttr(this.invalid_attr),is_ajax?!1:!0},parse_patterns:function(els){for(var i=els.length,el_patterns=[];i--;)el_patterns.push(this.pattern(els[i]));return this.check_validation_and_apply_styles(el_patterns)},pattern:function(el){var type=el.getAttribute("type"),required="string"==typeof el.getAttribute("required"),pattern=el.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(pattern)&&pattern.length>0?[el,this.settings.patterns[pattern],required]:pattern.length>0?[el,new RegExp("^"+pattern+"$"),required]:this.settings.patterns.hasOwnProperty(type)?[el,this.settings.patterns[type],required]:(pattern=/.*/,[el,pattern,required])},check_validation_and_apply_styles:function(el_patterns){for(var i=el_patterns.length,validations=[],form=this.S(el_patterns[0][0]).closest("[data-"+this.attr_name(!0)+"]"),settings=form.data(this.attr_name(!0)+"-init")||{};i--;){var parent,valid,el=el_patterns[i][0],required=el_patterns[i][2],value=el.value,direct_parent=this.S(el).parent(),validator=el.getAttribute(this.add_namespace("data-abide-validator")),is_radio="radio"===el.type,is_checkbox="checkbox"===el.type,label=this.S('label[for="'+el.getAttribute("id")+'"]'),valid_length=required?el.value.length>0:!0;el.getAttribute(this.add_namespace("data-equalto"))&&(validator="equalTo"),parent=direct_parent.is("label")?direct_parent.parent():direct_parent,is_radio&&required?validations.push(this.valid_radio(el,required)):is_checkbox&&required?validations.push(this.valid_checkbox(el,required)):validator?(valid=this.settings.validators[validator].apply(this,[el,required,parent]),validations.push(valid),valid?(this.S(el).removeAttr(this.invalid_attr),parent.removeClass("error")):(this.S(el).attr(this.invalid_attr,""),parent.addClass("error"))):el_patterns[i][1].test(value)&&valid_length||!required&&el.value.length<1||$(el).attr("disabled")?(this.S(el).removeAttr(this.invalid_attr),parent.removeClass("error"),label.length>0&&settings.error_labels&&label.removeClass("error"),validations.push(!0),$(el).triggerHandler("valid")):(this.S(el).attr(this.invalid_attr,""),parent.addClass("error"),label.length>0&&settings.error_labels&&label.addClass("error"),validations.push(!1),$(el).triggerHandler("invalid"))}return validations},valid_checkbox:function(el,required){var el=this.S(el),valid=el.is(":checked")||!required;return valid?el.removeAttr(this.invalid_attr).parent().removeClass("error"):el.attr(this.invalid_attr,"").parent().addClass("error"),valid},valid_radio:function(el){for(var name=el.getAttribute("name"),group=this.S(el).closest("[data-"+this.attr_name(!0)+"]").find("[name="+name+"]"),count=group.length,valid=!1,i=0;count>i;i++)group[i].checked&&(valid=!0);for(var i=0;count>i;i++)valid?this.S(group[i]).removeAttr(this.invalid_attr).parent().removeClass("error"):this.S(group[i]).attr(this.invalid_attr,"").parent().addClass("error");return valid},valid_equal:function(el,required,parent){var from=document.getElementById(el.getAttribute(this.add_namespace("data-equalto"))).value,to=el.value,valid=from===to;return valid?(this.S(el).removeAttr(this.invalid_attr),parent.removeClass("error")):(this.S(el).attr(this.invalid_attr,""),parent.addClass("error")),valid},valid_oneof:function(el,required,parent,doNotValidateOthers){var el=this.S(el),others=this.S("["+this.add_namespace("data-oneof")+"]"),valid=others.filter(":checked").length>0;if(valid?el.removeAttr(this.invalid_attr).parent().removeClass("error"):el.attr(this.invalid_attr,"").parent().addClass("error"),!doNotValidateOthers){var _this=this;others.each(function(){_this.valid_oneof.call(_this,this,null,null,!0)})}return valid}}}(jQuery,this,this.document),function($){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.2.2",settings:{active_class:"active",multi_expand:!1,toggleable:!0},init:function(scope,method,options){this.bindings(method,options)},events:function(){var self=this,S=this.S;S(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] dd > a",function(e){var accordion=S(this).closest("["+self.attr_name()+"]"),target=S("#"+this.href.split("#")[1]),siblings=S("dd > .content",accordion),aunts=$("dd",accordion),settings=accordion.data(self.attr_name(!0)+"-init"),active_content=S("dd > .content."+settings.active_class,accordion),active_parent=S("dd."+settings.active_class,accordion);if(e.preventDefault(),S(this).closest("dl").is(accordion)){if(settings.toggleable&&target.is(active_content))return active_parent.toggleClass(settings.active_class,!1),target.toggleClass(settings.active_class,!1);settings.multi_expand||(siblings.removeClass(settings.active_class),aunts.removeClass(settings.active_class)),target.addClass(settings.active_class).parent().addClass(settings.active_class)}})},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function($,window){"use strict";Foundation.libs.alert={name:"alert",version:"5.2.2",settings:{callback:function(){}},init:function(scope,method,options){this.bindings(method,options)},events:function(){var self=this,S=this.S;$(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] a.close",function(e){var alertBox=S(this).closest("["+self.attr_name()+"]"),settings=alertBox.data(self.attr_name(!0)+"-init")||self.settings;e.preventDefault(),"transitionend"in window||"webkitTransitionEnd"in window||"oTransitionEnd"in window?(alertBox.addClass("alert-close"),alertBox.on("transitionend webkitTransitionEnd oTransitionEnd",function(){S(this).trigger("close").remove(),settings.callback()})):alertBox.fadeOut(300,function(){S(this).trigger("close").remove(),settings.callback()})})},reflow:function(){}}}(jQuery,this,this.document),function($,window,document,undefined){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.2.2",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close",touch_label:"",init:!1,locked:!1},init:function(scope,method,options){var self=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(method,options),self.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(self.S("li",this.scope)):self.S("["+this.attr_name()+"]",this.scope).each(function(){self.assemble(self.S("li",this))})},events:function(scope){var self=this,S=self.S;$(".scroll-container").length>0&&(this.scope=$(".scroll-container")),S(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li",function(e,current,target){var current=current||S(this),target=target||current,next=current.next("li"),settings=current.closest("["+self.attr_name()+"]").data(self.attr_name(!0)+"-init"),image=S(e.target);e.preventDefault(),settings||(self.init(),settings=current.closest("["+self.attr_name()+"]").data(self.attr_name(!0)+"-init")),target.hasClass("visible")&&current[0]===target[0]&&next.length>0&&self.is_open(current)&&(target=next,image=S("img",target)),self.open(image,current,target),self.update_paddles(target)}).on("click.fndtn.clearing",".clearing-main-next",function(e){self.nav(e,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(e){self.nav(e,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(e){Foundation.libs.clearing.close(e,this)}),$(document).on("keydown.fndtn.clearing",function(e){self.keydown(e)}),S(window).off(".clearing").on("resize.fndtn.clearing",function(){self.resize()}),this.swipe_events(scope)},swipe_events:function(){var self=this,S=self.S;S(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(e){e.touches||(e=e.originalEvent);var data={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:undefined};S(this).data("swipe-transition",data),e.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(e){if(e.touches||(e=e.originalEvent),!(e.touches.length>1||e.scale&&1!==e.scale)){var data=S(this).data("swipe-transition");if("undefined"==typeof data&&(data={}),data.delta_x=e.touches[0].pageX-data.start_page_x,"undefined"==typeof data.is_scrolling&&(data.is_scrolling=!!(data.is_scrolling||Math.abs(data.delta_x)<Math.abs(e.touches[0].pageY-data.start_page_y))),!data.is_scrolling&&!data.active){e.preventDefault();var direction=data.delta_x<0?"next":"prev";data.active=!0,self.nav(e,direction)}}}).on("touchend.fndtn.clearing",".visible-img",function(e){S(this).data("swipe-transition",{}),e.stopPropagation()})},assemble:function($li){var $el=$li.parent();if(!$el.parent().hasClass("carousel")){$el.after('<div id="foundationClearingHolder"></div>');var grid=$el.detach(),grid_outerHTML="";if(null!=grid[0]){grid_outerHTML=grid[0].outerHTML;var holder=this.S("#foundationClearingHolder"),settings=$el.data(this.attr_name(!0)+"-init"),grid=$el.detach(),data={grid:'<div class="carousel">'+grid_outerHTML+"</div>",viewing:settings.templates.viewing},wrapper='<div class="clearing-assembled"><div>'+data.viewing+data.grid+"</div></div>",touch_label=this.settings.touch_label;Modernizr.touch&&(wrapper=$(wrapper).find(".clearing-touch-label").html(touch_label).end()),holder.after(wrapper).remove()}}},open:function($image,current,target){function startLoad(){setTimeout(function(){this.image_loaded(image,function(){1!==image.outerWidth()||error?cb.call(this,image):startLoad.call(this)}.bind(this))}.bind(this),50)}function cb(image){$(image);image.css("visibility","visible"),body.css("overflow","hidden"),root.addClass("clearing-blackout"),container.addClass("clearing-container"),visible_image.show(),this.fix_height(target).caption(self.S(".clearing-caption",visible_image),self.S("img",target)).center_and_label(image,label).shift(current,target,function(){target.siblings().removeClass("visible"),target.addClass("visible")})}var self=this,body=$(document.body),root=target.closest(".clearing-assembled"),container=self.S("div",root).first(),visible_image=self.S(".visible-img",container),image=self.S("img",visible_image).not($image),label=self.S(".clearing-touch-label",container),error=!1;image.error(function(){error=!0}),this.locked()||(image.attr("src",this.load($image)).css("visibility","hidden"),startLoad.call(this))},close:function(e,el){e.preventDefault();var container,visible_image,root=function(target){return/blackout/.test(target.selector)?target:target.closest(".clearing-blackout")}($(el)),body=$(document.body);return el===e.target&&root&&(body.css("overflow",""),container=$("div",root).first(),visible_image=$(".visible-img",container),this.settings.prev_index=0,$("ul["+this.attr_name()+"]",root).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),container.removeClass("clearing-container"),visible_image.hide()),!1},is_open:function(current){return current.parent().prop("style").length>0},keydown:function(e){var clearing=$(".clearing-blackout ul["+this.attr_name()+"]"),NEXT_KEY=this.rtl?37:39,PREV_KEY=this.rtl?39:37,ESC_KEY=27;e.which===NEXT_KEY&&this.go(clearing,"next"),e.which===PREV_KEY&&this.go(clearing,"prev"),e.which===ESC_KEY&&this.S("a.clearing-close").trigger("click")},nav:function(e,direction){var clearing=$("ul["+this.attr_name()+"]",".clearing-blackout");e.preventDefault(),this.go(clearing,direction)},resize:function(){var image=$("img",".clearing-blackout .visible-img"),label=$(".clearing-touch-label",".clearing-blackout");image.length&&this.center_and_label(image,label)},fix_height:function(target){var lis=target.parent().children(),self=this;return lis.each(function(){var li=self.S(this),image=li.find("img");li.height()>image.outerHeight()&&li.addClass("fix-height")}).closest("ul").width(100*lis.length+"%"),this},update_paddles:function(target){var visible_image=target.closest(".carousel").siblings(".visible-img");target.next().length>0?this.S(".clearing-main-next",visible_image).removeClass("disabled"):this.S(".clearing-main-next",visible_image).addClass("disabled"),target.prev().length>0?this.S(".clearing-main-prev",visible_image).removeClass("disabled"):this.S(".clearing-main-prev",visible_image).addClass("disabled")},center_and_label:function(target,label){return this.rtl?(target.css({marginRight:-(target.outerWidth()/2),marginTop:-(target.outerHeight()/2),left:"auto",right:"50%"}),label.length>0&&label.css({marginRight:-(label.outerWidth()/2),marginTop:-(target.outerHeight()/2)-label.outerHeight()-10,left:"auto",right:"50%"})):(target.css({marginLeft:-(target.outerWidth()/2),marginTop:-(target.outerHeight()/2)}),label.length>0&&label.css({marginLeft:-(label.outerWidth()/2),marginTop:-(target.outerHeight()/2)-label.outerHeight()-10})),this},load:function($image){if("A"===$image[0].nodeName)var href=$image.attr("href");else var href=$image.parent().attr("href");return this.preload($image),href?href:$image.attr("src")},preload:function($image){this.img($image.closest("li").next()).img($image.closest("li").prev())},img:function(img){if(img.length){var new_img=new Image,new_a=this.S("a",img);new_img.src=new_a.length?new_a.attr("href"):this.S("img",img).attr("src")}return this},caption:function(container,$image){var caption=$image.attr("data-caption");return caption?container.html(caption).show():container.text("").hide(),this},go:function($ul,direction){var current=this.S(".visible",$ul),target=current[direction]();target.length&&this.S("img",target).trigger("click",[current,target])},shift:function(current,target,callback){var skip_shift,clearing=target.parent(),old_index=this.settings.prev_index||target.index(),direction=this.direction(clearing,current,target),dir=this.rtl?"right":"left",left=parseInt(clearing.css("left"),10),width=target.outerWidth(),dir_obj={};target.index()===old_index||/skip/.test(direction)?/skip/.test(direction)&&(skip_shift=target.index()-this.settings.up_count,this.lock(),skip_shift>0?(dir_obj[dir]=-(skip_shift*width),clearing.animate(dir_obj,300,this.unlock())):(dir_obj[dir]=0,clearing.animate(dir_obj,300,this.unlock()))):/left/.test(direction)?(this.lock(),dir_obj[dir]=left+width,clearing.animate(dir_obj,300,this.unlock())):/right/.test(direction)&&(this.lock(),dir_obj[dir]=left-width,clearing.animate(dir_obj,300,this.unlock())),callback()},direction:function($el,current,target){var response,lis=this.S("li",$el),li_width=lis.outerWidth()+lis.outerWidth()/4,up_count=Math.floor(this.S(".clearing-container").outerWidth()/li_width)-1,target_index=lis.index(target);return this.settings.up_count=up_count,response=this.adjacent(this.settings.prev_index,target_index)?target_index>up_count&&target_index>this.settings.prev_index?"right":target_index>up_count-1&&target_index<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=target_index,response},adjacent:function(current_index,target_index){for(var i=target_index+1;i>=target_index-1;i--)if(i===current_index)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(window).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,this,this.document),function($,window){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.2.2",settings:{active_class:"open",align:"bottom",is_hover:!1,opened:function(){},closed:function(){}},init:function(scope,method,options){Foundation.inherit(this,"throttle"),this.bindings(method,options)},events:function(){var self=this,S=self.S;S(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(e){var settings=S(this).data(self.attr_name(!0)+"-init")||self.settings;(!settings.is_hover||Modernizr.touch)&&(e.preventDefault(),self.toggle($(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(e){var $this=S(this);if(clearTimeout(self.timeout),$this.data(self.data_attr()))var dropdown=S("#"+$this.data(self.data_attr())),target=$this;else{var dropdown=$this;target=S("["+self.attr_name()+"='"+dropdown.attr("id")+"']")}var settings=target.data(self.attr_name(!0)+"-init")||self.settings;S(e.target).data(self.data_attr())&&settings.is_hover&&self.closeall.call(self),settings.is_hover&&self.open.apply(self,[dropdown,target])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var $this=S(this);self.timeout=setTimeout(function(){if($this.data(self.data_attr())){var settings=$this.data(self.data_attr(!0)+"-init")||self.settings;settings.is_hover&&self.close.call(self,S("#"+$this.data(self.data_attr())))}else{var target=S("["+self.attr_name()+'="'+S(this).attr("id")+'"]'),settings=target.data(self.attr_name(!0)+"-init")||self.settings;settings.is_hover&&self.close.call(self,$this)}}.bind(this),150)}).on("click.fndtn.dropdown",function(e){var parent=S(e.target).closest("["+self.attr_name()+"-content]");if(!S(e.target).data(self.data_attr())&&!S(e.target).parent().data(self.data_attr()))return!S(e.target).data("revealId")&&parent.length>0&&(S(e.target).is("["+self.attr_name()+"-content]")||$.contains(parent.first()[0],e.target))?void e.stopPropagation():void self.close.call(self,S("["+self.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+self.attr_name()+"-content]",function(){self.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+self.attr_name()+"-content]",function(){self.settings.closed.call(this)}),S(window).off(".dropdown").on("resize.fndtn.dropdown",self.throttle(function(){self.resize.call(self)},50)),this.resize()},close:function(dropdown){var self=this;dropdown.each(function(){self.S(this).hasClass(self.settings.active_class)&&(self.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(self.settings.active_class).prev("["+self.attr_name()+"]").removeClass(self.settings.active_class),self.S(this).trigger("closed",[dropdown]))})},closeall:function(){var self=this;$.each(self.S("["+this.attr_name()+"-content]"),function(){self.close.call(self,self.S(this))})},open:function(dropdown,target){this.css(dropdown.addClass(this.settings.active_class),target),dropdown.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),dropdown.trigger("opened",[dropdown,target])},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(target){var dropdown=this.S("#"+target.data(this.data_attr()));0!==dropdown.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(dropdown)),dropdown.hasClass(this.settings.active_class)?this.close.call(this,dropdown):(this.close.call(this,this.S("["+this.attr_name()+"-content]")),this.open.call(this,dropdown,target)))},resize:function(){var dropdown=this.S("["+this.attr_name()+"-content].open"),target=this.S("["+this.attr_name()+"='"+dropdown.attr("id")+"']");dropdown.length&&target.length&&this.css(dropdown,target)},css:function(dropdown,target){if(this.clear_idx(),this.small()){var p=this.dirs.bottom.call(dropdown,target);dropdown.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:p.top}),dropdown.css(Foundation.rtl?"right":"left","2.5%")}else{var settings=target.data(this.attr_name(!0)+"-init")||this.settings;this.style(dropdown,target,settings)}return dropdown},style:function(dropdown,target,settings){var css=$.extend({position:"absolute"},this.dirs[settings.align].call(dropdown,target,settings));dropdown.attr("style","").css(css)},dirs:{_base:function(t){var o_p=this.offsetParent(),o=o_p.offset(),p=t.offset();return p.top-=o.top,p.left-=o.left,p},top:function(t){var self=Foundation.libs.dropdown,p=self.dirs._base.call(this,t),pip_offset_base=t.outerWidth()/2-8;return this.addClass("drop-top"),(t.outerWidth()<this.outerWidth()||self.small())&&self.adjust_pip(pip_offset_base,p),Foundation.rtl?{left:p.left-this.outerWidth()+t.outerWidth(),top:p.top-this.outerHeight()}:{left:p.left,top:p.top-this.outerHeight()}},bottom:function(t){var self=Foundation.libs.dropdown,p=self.dirs._base.call(this,t),pip_offset_base=t.outerWidth()/2-8;return(t.outerWidth()<this.outerWidth()||self.small())&&self.adjust_pip(pip_offset_base,p),self.rtl?{left:p.left-this.outerWidth()+t.outerWidth(),top:p.top+t.outerHeight()}:{left:p.left,top:p.top+t.outerHeight()}},left:function(t){var p=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-left"),{left:p.left-this.outerWidth(),top:p.top}},right:function(t){var p=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-right"),{left:p.left+t.outerWidth(),top:p.top}}},adjust_pip:function(pip_offset_base,p){var sheet=Foundation.stylesheet;this.small()&&(pip_offset_base+=p.left-8),this.rule_idx=sheet.cssRules.length;var sel_before=".f-dropdown.open:before",sel_after=".f-dropdown.open:after",css_before="left: "+pip_offset_base+"px;",css_after="left: "+(pip_offset_base-1)+"px;";sheet.insertRule?(sheet.insertRule([sel_before,"{",css_before,"}"].join(" "),this.rule_idx),sheet.insertRule([sel_after,"{",css_after,"}"].join(" "),this.rule_idx+1)):(sheet.addRule(sel_before,css_before,this.rule_idx),sheet.addRule(sel_after,css_after,this.rule_idx+1))},clear_idx:function(){var sheet=Foundation.stylesheet;this.rule_idx&&(sheet.deleteRule(this.rule_idx),sheet.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(window).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,this,this.document),function($,window){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.2.2",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(el,path,trigger){if(/IMG/.test(el[0].nodeName)){var orig_path=el[0].src;
if(new RegExp(path,"i").test(orig_path))return;return el[0].src=path,trigger(el[0].src)}var last_path=el.data(this.data_attr+"-last-path");if(last_path!=path)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(path)?($(el).css("background-image","url("+path+")"),el.data("interchange-last-path",path),trigger(path)):$.get(path,function(response){el.html(response),el.data(this.data_attr+"-last-path",path),trigger()})}}},init:function(scope,method,options){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),$.extend(!0,this.settings,method,options),this.bindings(method,options),this.load("images"),this.load("nodes")},get_media_hash:function(){var mediaHash="";for(var queryName in this.settings.named_queries)mediaHash+=matchMedia(this.settings.named_queries[queryName]).matches.toString();return mediaHash},events:function(){var prevMediaHash,self=this;return $(window).off(".interchange").on("resize.fndtn.interchange",self.throttle(function(){var currMediaHash=self.get_media_hash();currMediaHash!==prevMediaHash&&self.resize(),prevMediaHash=currMediaHash},50)),this},resize:function(){var cache=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout($.proxy(this.resize,this),50);for(var uuid in cache)if(cache.hasOwnProperty(uuid)){var passed=this.results(uuid,cache[uuid]);passed&&this.settings.directives[passed.scenario[1]].call(this,passed.el,passed.scenario[0],function(){if(arguments[0]instanceof Array)var args=arguments[0];else var args=Array.prototype.slice.call(arguments,0);passed.el.trigger(passed.scenario[1],args)})}},results:function(uuid,scenarios){var count=scenarios.length;if(count>0)for(var el=this.S("["+this.add_namespace("data-uuid")+'="'+uuid+'"]');count--;){var mq,rule=scenarios[count][2];if(mq=matchMedia(this.settings.named_queries.hasOwnProperty(rule)?this.settings.named_queries[rule]:rule),mq.matches)return{el:el,scenario:scenarios[count]}}return!1},load:function(type,force_update){return("undefined"==typeof this["cached_"+type]||force_update)&&this["update_"+type](),this["cached_"+type]},update_images:function(){var images=this.S("img["+this.data_attr+"]"),count=images.length,i=count,loaded_count=0,data_attr=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===count;i--;){if(loaded_count++,images[i]){var str=images[i].getAttribute(data_attr)||"";str.length>0&&this.cached_images.push(images[i])}loaded_count===count&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var nodes=this.S("["+this.data_attr+"]").not("img"),count=nodes.length,i=count,loaded_count=0,data_attr=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===count;i--;){loaded_count++;var str=nodes[i].getAttribute(data_attr)||"";str.length>0&&this.cached_nodes.push(nodes[i]),loaded_count===count&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(type){for(var i=this["cached_"+type].length;i--;)this.object($(this["cached_"+type][i]));return $(window).trigger("resize")},parse_params:function(path,directive,mq){return[this.trim(path),this.convert_directive(directive),this.trim(mq)]},convert_directive:function(directive){var trimmed=this.trim(directive);return trimmed.length>0?trimmed:"replace"},object:function(el){var raw_arr=this.parse_data_attr(el),scenarios=[],i=raw_arr.length;if(i>0)for(;i--;){var split=raw_arr[i].split(/\((.*?)(\))$/);if(split.length>1){var cached_split=split[0].split(","),params=this.parse_params(cached_split[0],cached_split[1],split[1]);scenarios.push(params)}}return this.store(el,scenarios)},store:function(el,scenarios){var uuid=this.random_str(),current_uuid=el.data(this.add_namespace("uuid",!0));return this.cache[current_uuid]?this.cache[current_uuid]:(el.attr(this.add_namespace("data-uuid"),uuid),this.cache[uuid]=scenarios)},trim:function(str){return"string"==typeof str?$.trim(str):str},set_data_attr:function(init){return init?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(el){for(var raw=el.attr(this.attr_name()).split(/\[(.*?)\]/),i=raw.length,output=[];i--;)raw[i].replace(/[\W\d]+/,"").length>4&&output.push(raw[i]);return output},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,this,this.document),function($,window,document,undefined){"use strict";Foundation.libs.joyride={name:"joyride",version:"5.2.2",defaults:{expose:!1,modal:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(scope,method,options){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||$.extend({},this.defaults,options||method),this.bindings(method,options)},events:function(){var self=this;$(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault(),this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(e){e.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)),$(window).off(".joyride").on("resize.fndtn.joyride",self.throttle(function(){if($("["+self.attr_name()+"]").length>0&&self.settings.$next_tip){if(self.settings.exposed.length>0){var $els=$(self.settings.exposed);$els.each(function(){var $this=$(this);self.un_expose($this),self.expose($this)})}self.is_phone()?self.pos_phone():self.pos_default(!1,!0)}},100))},start:function(){var self=this,$this=$("["+this.attr_name()+"]",this.scope),integer_settings=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],int_settings_count=integer_settings.length;!$this.length>0||(this.settings.init||this.events(),this.settings=$this.data(this.attr_name(!0)+"-init"),this.settings.$content_el=$this,this.settings.$body=$(this.settings.tip_container),this.settings.body_offset=$(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,"function"!=typeof $.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!$.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(index){var $this=$(this);this.settings=$.extend({},self.defaults,self.data_options($this));for(var i=int_settings_count;i--;)self.settings[integer_settings[i]]=parseInt(self.settings[integer_settings[i]],10);self.create({$li:$this,index:index})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(opts){var $blank,content;return opts.tip_class=opts.tip_class||"",$blank=$(this.settings.template.tip).addClass(opts.tip_class),content=$.trim($(opts.li).html())+this.button_text(opts.button_text)+this.settings.template.link+this.timer_instance(opts.index),$blank.append($(this.settings.template.wrapper)),$blank.first().attr(this.add_namespace("data-index"),opts.index),$(".joyride-content-wrapper",$blank).append(content),$blank[0]},timer_instance:function(index){var txt;return txt=0===index&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":$(this.settings.template.timer)[0].outerHTML},button_text:function(txt){return this.settings.next_button?(txt=$.trim(txt)||"Next",txt=$(this.settings.template.button).append(txt)[0].outerHTML):txt="",txt},create:function(opts){var buttonText=opts.$li.attr(this.add_namespace("data-button"))||opts.$li.attr(this.add_namespace("data-text")),tipClass=opts.$li.attr("class"),$tip_content=$(this.tip_template({tip_class:tipClass,index:opts.index,button_text:buttonText,li:opts.$li}));$(this.settings.tip_container).append($tip_content)},show:function(init){var $timer=null;this.settings.$li===undefined||-1===$.inArray(this.settings.$li.index(),this.settings.pause_after)?(this.settings.paused?this.settings.paused=!1:this.set_li(init),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(init&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=$.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),$timer=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?($timer.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){$timer.animate({width:$timer.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&($timer.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){$timer.animate({width:$timer.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fadeSpeed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||$(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout($.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(init){init?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=$(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var cl=this.settings.$li.attr(this.add_namespace("data-class")),id=this.settings.$li.attr(this.add_namespace("data-id")),$sel=function(){return id?$(document.getElementById(id)):cl?$("."+cl).first():$("body")};this.settings.$target=$sel()},scroll_to:function(){var window_half,tipOffset;window_half=$(window).height()/2,tipOffset=Math.ceil(this.settings.$target.offset().top-window_half+this.settings.$next_tip.outerHeight()),0!=tipOffset&&$("html, body").animate({scrollTop:tipOffset},this.settings.scroll_speed,"swing")},paused:function(){return-1===$.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=undefined,this.show("init")},pos_default:function(init,resizing){var $nub=(Math.ceil($(window).height()/2),this.settings.$next_tip.offset(),this.settings.$next_tip.find(".joyride-nub")),nub_width=Math.ceil($nub.outerWidth()/2),nub_height=Math.ceil($nub.outerHeight()/2),toggle=init||!1;toggle&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),"undefined"==typeof resizing&&(resizing=!1),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal($nub):(this.bottom()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top+nub_height+this.settings.$target.outerHeight(),left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top+nub_height+this.settings.$target.outerHeight(),left:this.settings.$target.offset().left}),this.nub_position($nub,this.settings.tip_settings.nub_position,"top")):this.top()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-nub_height,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-nub_height,left:this.settings.$target.offset().left}),this.nub_position($nub,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+nub_width}),this.nub_position($nub,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-nub_width}),this.nub_position($nub,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&($nub.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())),toggle&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(init){var tip_height=this.settings.$next_tip.outerHeight(),target_height=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),$nub=$(".joyride-nub",this.settings.$next_tip),nub_height=Math.ceil($nub.outerHeight()/2),toggle=init||!1;$nub.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),toggle&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal($nub):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-tip_height-nub_height}),$nub.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+target_height+nub_height}),$nub.addClass("top")),toggle&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function($nub){this.center(),$nub.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var joyridemodalbg=$(".joyride-modal-bg");joyridemodalbg.length<1&&$("body").append(this.settings.template.modal).show(),/pop/i.test(this.settings.tip_animation)?joyridemodalbg.show():joyridemodalbg.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var expose,exposeCover,el,origCSS,origClasses,randId="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof $)el=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;el=this.settings.$target}return el.length<1?(window.console&&console.error("element not valid",el),!1):(expose=$(this.settings.template.expose),this.settings.$body.append(expose),expose.css({top:el.offset().top,left:el.offset().left,width:el.outerWidth(!0),height:el.outerHeight(!0)}),exposeCover=$(this.settings.template.expose_cover),origCSS={zIndex:el.css("z-index"),position:el.css("position")},origClasses=null==el.attr("class")?"":el.attr("class"),el.css("z-index",parseInt(expose.css("z-index"))+1),"static"==origCSS.position&&el.css("position","relative"),el.data("expose-css",origCSS),el.data("orig-class",origClasses),el.attr("class",origClasses+" "+this.settings.expose_add_class),exposeCover.css({top:el.offset().top,left:el.offset().left,width:el.outerWidth(!0),height:el.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(exposeCover),expose.addClass(randId),exposeCover.addClass(randId),el.data("expose",randId),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,el),void this.add_exposed(el))},un_expose:function(){var exposeId,el,expose,origCSS,origClasses,clearAll=!1;if(arguments.length>0&&arguments[0]instanceof $)el=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;el=this.settings.$target}return el.length<1?(window.console&&console.error("element not valid",el),!1):(exposeId=el.data("expose"),expose=$("."+exposeId),arguments.length>1&&(clearAll=arguments[1]),clearAll===!0?$(".joyride-expose-wrapper,.joyride-expose-cover").remove():expose.remove(),origCSS=el.data("expose-css"),"auto"==origCSS.zIndex?el.css("z-index",""):el.css("z-index",origCSS.zIndex),origCSS.position!=el.css("position")&&("static"==origCSS.position?el.css("position",""):el.css("position",origCSS.position)),origClasses=el.data("orig-class"),el.attr("class",origClasses),el.removeData("orig-classes"),el.removeData("expose"),el.removeData("expose-z-index"),void this.remove_exposed(el))},add_exposed:function(el){this.settings.exposed=this.settings.exposed||[],el instanceof $||"object"==typeof el?this.settings.exposed.push(el[0]):"string"==typeof el&&this.settings.exposed.push(el)},remove_exposed:function(el){var search,i;for(el instanceof $?search=el[0]:"string"==typeof el&&(search=el),this.settings.exposed=this.settings.exposed||[],i=this.settings.exposed.length;i--;)if(this.settings.exposed[i]==search)return void this.settings.exposed.splice(i,1)},center:function(){var $w=$(window);return this.settings.$next_tip.css({top:($w.height()-this.settings.$next_tip.outerHeight())/2+$w.scrollTop(),left:($w.width()-this.settings.$next_tip.outerWidth())/2+$w.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(el){var w=$(window),window_half=w.height()/2,tipOffset=Math.ceil(this.settings.$target.offset().top-window_half+this.settings.$next_tip.outerHeight()),right=w.width()+w.scrollLeft(),offsetBottom=w.height()+tipOffset,bottom=w.height()+w.scrollTop(),top=w.scrollTop();return top>tipOffset&&(top=0>tipOffset?0:tipOffset),offsetBottom>bottom&&(bottom=offsetBottom),[el.offset().top<top,right<el.offset().left+el.outerWidth(),bottom<el.offset().top+el.outerHeight(),w.scrollLeft()>el.offset().left]},visible:function(hidden_corners){for(var i=hidden_corners.length;i--;)if(hidden_corners[i])return!1;return!0},nub_position:function(nub,pos,def){nub.addClass("auto"===pos?def:pos)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(abort){this.settings.cookie_monster&&$.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.$next_tip.data("closed",!0),$(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),"undefined"==typeof abort&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),$(".joyride-tip-guide").remove()},off:function(){$(this.scope).off(".joyride"),$(window).off(".joyride"),$(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),$(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,this,this.document),function($,window){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.2.2",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30},init:function(scope,method,options){Foundation.inherit(this,"throttle"),this.bindings(method,options)},events:function(){var self=this,S=self.S,settings=self.settings;self.set_expedition_position(),S(self.scope).off(".magellan").on("click.fndtn.magellan","["+self.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(e){e.preventDefault();var expedition=$(this).closest("["+self.attr_name()+"]"),hash=(expedition.data("magellan-expedition-init"),this.hash.split("#").join("")),target=$("a[name='"+hash+"']");0===target.length&&(target=$("#"+hash));var scroll_top=target.offset().top;scroll_top-=expedition.outerHeight(),$("html, body").stop().animate({scrollTop:scroll_top},700,"swing",function(){history.pushState?history.pushState(null,null,"#"+hash):location.hash="#"+hash})}).on("scroll.fndtn.magellan",self.throttle(this.check_for_arrivals.bind(this),settings.throttle_delay)),$(window).on("resize.fndtn.magellan",self.throttle(this.set_expedition_position.bind(this),settings.throttle_delay))},check_for_arrivals:function(){var self=this;self.update_arrivals(),self.update_expedition_positions()},set_expedition_position:function(){var self=this;$("["+this.attr_name()+"=fixed]",self.scope).each(function(){var top_offset,expedition=$(this),styles=expedition.attr("styles");expedition.attr("style",""),top_offset=expedition.offset().top,expedition.data(self.data_attr("magellan-top-offset"),top_offset),expedition.attr("style",styles)})},update_expedition_positions:function(){var self=this,window_top_offset=$(window).scrollTop();$("["+this.attr_name()+"=fixed]",self.scope).each(function(){var expedition=$(this),top_offset=expedition.data("magellan-top-offset");if(window_top_offset>=top_offset){var placeholder=expedition.prev("["+self.add_namespace("data-magellan-expedition-clone")+"]");0===placeholder.length&&(placeholder=expedition.clone(),placeholder.removeAttr(self.attr_name()),placeholder.attr(self.add_namespace("data-magellan-expedition-clone"),""),expedition.before(placeholder)),expedition.css({position:"fixed",top:0})}else expedition.prev("["+self.add_namespace("data-magellan-expedition-clone")+"]").remove(),expedition.attr("style","")})},update_arrivals:function(){var self=this,window_top_offset=$(window).scrollTop();$("["+this.attr_name()+"]",self.scope).each(function(){var expedition=$(this),settings=settings=expedition.data(self.attr_name(!0)+"-init"),offsets=self.offsets(expedition,window_top_offset),arrivals=expedition.find("["+self.add_namespace("data-magellan-arrival")+"]"),active_item=!1;offsets.each(function(idx,item){if(item.viewport_offset>=item.top_offset){var arrivals=expedition.find("["+self.add_namespace("data-magellan-arrival")+"]");return arrivals.not(item.arrival).removeClass(settings.active_class),item.arrival.addClass(settings.active_class),active_item=!0,!0}}),active_item||arrivals.removeClass(settings.active_class)})},offsets:function(expedition,window_offset){var self=this,settings=expedition.data(self.attr_name(!0)+"-init"),viewport_offset=window_offset;return expedition.find("["+self.add_namespace("data-magellan-arrival")+"]").map(function(){var name=$(this).data(self.data_attr("magellan-arrival")),dest=$("["+self.add_namespace("data-magellan-destination")+"="+name+"]");if(dest.length>0){var top_offset=dest.offset().top-settings.destination_threshold-expedition.outerHeight();return{destination:dest,arrival:$(this),top_offset:top_offset,viewport_offset:viewport_offset}}}).sort(function(a,b){return a.top_offset<b.top_offset?-1:a.top_offset>b.top_offset?1:0})},data_attr:function(str){return this.namespace.length>0?this.namespace+"-"+str:str},off:function(){this.S(this.scope).off(".magellan"),this.S(window).off(".magellan")},reflow:function(){var self=this;$("["+self.add_namespace("data-magellan-expedition-clone")+"]",self.scope).remove()}}}(jQuery,this,this.document),function(){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.2.2",settings:{},init:function(){this.events()},events:function(){var self=this,S=self.S;S(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(e){self.click_toggle_class(e,"move-right")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(){S(".off-canvas-wrap").removeClass("move-right")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(e){self.click_toggle_class(e,"move-left")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(){S(".off-canvas-wrap").removeClass("move-left")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(e){self.click_remove_class(e,"move-left"),self.click_remove_class(e,"move-right")})},click_toggle_class:function(e,class_name){e.preventDefault(),this.S(e.target).closest(".off-canvas-wrap").toggleClass(class_name)},click_remove_class:function(e,class_name){e.preventDefault(),this.S(".off-canvas-wrap").removeClass(class_name)},reflow:function(){}}}(jQuery,this,this.document),function($,window,document){"use strict";var noop=function(){},Orbit=function(el,settings){if(el.hasClass(settings.slides_container_class))return this;var container,number_container,bullets_container,timer_container,animate,self=this,slides_container=el,idx=0,has_init_active=slides_container.find("."+settings.active_slide_class).length>0;self.cache={},self.slides=function(){return slides_container.children(settings.slide_selector)},has_init_active||self.slides().first().addClass(settings.active_slide_class),self.update_slide_number=function(index){settings.slide_number&&(number_container.find("span:first").text(parseInt(index)+1),number_container.find("span:last").text(self.slides().length)),settings.bullets&&(bullets_container.children().removeClass(settings.bullets_active_class),$(bullets_container.children().get(index)).addClass(settings.bullets_active_class))},self.update_active_link=function(index){var link=$('[data-orbit-link="'+self.slides().eq(index).attr("data-orbit-slide")+'"]');link.siblings().removeClass(settings.bullets_active_class),link.addClass(settings.bullets_active_class)},self.build_markup=function(){slides_container.wrap('<div class="'+settings.container_class+'"></div>'),container=slides_container.parent(),slides_container.addClass(settings.slides_container_class),slides_container.addClass(settings.animation),settings.stack_on_small&&container.addClass(settings.stack_on_small_class),settings.navigation_arrows&&(container.append($('<a href="#"><span></span></a>').addClass(settings.prev_class)),container.append($('<a href="#"><span></span></a>').addClass(settings.next_class))),settings.timer&&(timer_container=$("<div>").addClass(settings.timer_container_class),timer_container.append("<span>"),settings.timer_show_progress_bar&&timer_container.append($("<div>").addClass(settings.timer_progress_class)),timer_container.addClass(settings.timer_paused_class),container.append(timer_container)),settings.slide_number&&(number_container=$("<div>").addClass(settings.slide_number_class),number_container.append("<span></span> "+settings.slide_number_text+" <span></span>"),container.append(number_container)),settings.bullets&&(bullets_container=$("<ol>").addClass(settings.bullets_container_class),container.append(bullets_container),bullets_container.wrap('<div class="orbit-bullets-container"></div>'),self.slides().each(function(idx){var bullet=$("<li>").attr("data-orbit-slide",idx);bullets_container.append(bullet)}))},self._prepare_direction=function(next_idx){var dir="next";idx>=next_idx&&(dir="prev"),"slide"===settings.animation&&setTimeout(function(){slides_container.removeClass("swipe-prev swipe-next"),"next"===dir?slides_container.addClass("swipe-next"):"prev"===dir&&slides_container.addClass("swipe-prev")},0);var slides=self.slides();if(next_idx>=slides.length){if(!settings.circular)return!1;next_idx=0}else if(0>next_idx){if(!settings.circular)return!1;next_idx=slides.length-1}var current=$(slides.get(idx)),next=$(slides.get(next_idx));return[dir,current,next,next_idx]},self._goto=function(next_idx,start_timer){if(null===next_idx)return!1;if(self.cache.animating)return!1;if(next_idx===idx)return!1;"object"==typeof self.cache.timer&&self.cache.timer.restart();var slides=self.slides();self.cache.animating=!0;var res=self._prepare_direction(next_idx),dir=res[0],current=res[1],next=res[2],next_idx=res[3];if(res===!1)return!1;slides_container.trigger("before-slide-change.fndtn.orbit"),settings.before_slide_change(),idx=next_idx,current.css("transitionDuration",settings.animation_speed+"ms"),next.css("transitionDuration",settings.animation_speed+"ms");var callback=function(){var unlock=function(){start_timer===!0&&self.cache.timer.restart(),self.update_slide_number(idx),next.addClass(settings.active_slide_class),self.update_active_link(next_idx),slides_container.trigger("after-slide-change.fndtn.orbit",[{slide_number:idx,total_slides:slides.length}]),settings.after_slide_change(idx,slides.length),setTimeout(function(){self.cache.animating=!1},100)};slides_container.height()!=next.height()&&settings.variable_height?slides_container.animate({height:next.height()},250,"linear",unlock):unlock()};if(1===slides.length)return callback(),!1;var start_animation=function(){"next"===dir&&animate.next(current,next,callback),"prev"===dir&&animate.prev(current,next,callback)};next.height()>slides_container.height()&&settings.variable_height?slides_container.animate({height:next.height()},250,"linear",start_animation):start_animation()},self.next=function(e){e.stopImmediatePropagation(),e.preventDefault(),self._prepare_direction(idx+1),setTimeout(function(){self._goto(idx+1)},100)},self.prev=function(e){e.stopImmediatePropagation(),e.preventDefault(),self._prepare_direction(idx-1),setTimeout(function(){self._goto(idx-1)},100)},self.link_custom=function(e){e.preventDefault();var link=$(this).attr("data-orbit-link");if("string"==typeof link&&""!=(link=$.trim(link))){var slide=container.find("[data-orbit-slide="+link+"]");-1!=slide.index()&&setTimeout(function(){self._goto(slide.index())},100)}},self.link_bullet=function(){var index=$(this).attr("data-orbit-slide");if("string"==typeof index&&""!=(index=$.trim(index)))if(isNaN(parseInt(index))){var slide=container.find("[data-orbit-slide="+index+"]");-1!=slide.index()&&setTimeout(function(){self._goto(slide.index()+1)},100)}else setTimeout(function(){self._goto(parseInt(index))},100)},self.timer_callback=function(){self._goto(idx+1,!0)},self.compute_dimensions=function(){var current=$(self.slides().get(idx)),h=current.height();settings.variable_height||self.slides().each(function(){$(this).height()>h&&(h=$(this).height())}),slides_container.height(h)},self.create_timer=function(){var t=new Timer(container.find("."+settings.timer_container_class),settings,self.timer_callback);return t},self.stop_timer=function(){"object"==typeof self.cache.timer&&self.cache.timer.stop()},self.toggle_timer=function(){var t=container.find("."+settings.timer_container_class);t.hasClass(settings.timer_paused_class)?("undefined"==typeof self.cache.timer&&(self.cache.timer=self.create_timer()),self.cache.timer.start()):"object"==typeof self.cache.timer&&self.cache.timer.stop()},self.init=function(){if(self.build_markup(),settings.timer&&(self.cache.timer=self.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),self.cache.timer.start)),animate=new CSSAnimation(settings,slides_container),has_init_active){var $init_target=slides_container.find("."+settings.active_slide_class),animation_speed=settings.animation_speed;
settings.animation_speed=1,$init_target.removeClass("active"),self._goto($init_target.index()),settings.animation_speed=animation_speed}container.on("click","."+settings.next_class,self.next),container.on("click","."+settings.prev_class,self.prev),settings.next_on_click&&container.on("click","[data-orbit-slide]",self.link_bullet),container.on("click",self.toggle_timer),settings.swipe&&slides_container.on("touchstart.fndtn.orbit",function(e){self.cache.animating||(e.touches||(e=e.originalEvent),e.preventDefault(),e.stopPropagation(),self.cache.start_page_x=e.touches[0].pageX,self.cache.start_page_y=e.touches[0].pageY,self.cache.start_time=(new Date).getTime(),self.cache.delta_x=0,self.cache.is_scrolling=null,self.cache.direction=null,self.stop_timer())}).on("touchmove.fndtn.orbit",function(e){Math.abs(self.cache.delta_x)>5&&(e.preventDefault(),e.stopPropagation()),self.cache.animating||requestAnimationFrame(function(){if(e.touches||(e=e.originalEvent),!(e.touches.length>1||e.scale&&1!==e.scale||(self.cache.delta_x=e.touches[0].pageX-self.cache.start_page_x,null===self.cache.is_scrolling&&(self.cache.is_scrolling=!!(self.cache.is_scrolling||Math.abs(self.cache.delta_x)<Math.abs(e.touches[0].pageY-self.cache.start_page_y))),self.cache.is_scrolling))){var direction=self.cache.delta_x<0?idx+1:idx-1;if(self.cache.direction!==direction){var res=self._prepare_direction(direction);self.cache.direction=direction,self.cache.dir=res[0],self.cache.current=res[1],self.cache.next=res[2]}if("slide"===settings.animation){var offset,next_offset;offset=self.cache.delta_x/container.width()*100,next_offset=offset>=0?-(100-offset):100+offset,self.cache.current.css("transform","translate3d("+offset+"%,0,0)"),self.cache.next.css("transform","translate3d("+next_offset+"%,0,0)")}}})}).on("touchend.fndtn.orbit",function(e){self.cache.animating||(e.preventDefault(),e.stopPropagation(),setTimeout(function(){self._goto(self.cache.direction)},50))}),container.on("mouseenter.fndtn.orbit",function(){settings.timer&&settings.pause_on_hover&&self.stop_timer()}).on("mouseleave.fndtn.orbit",function(){settings.timer&&settings.resume_on_mouseout&&self.cache.timer.start()}),$(document).on("click","[data-orbit-link]",self.link_custom),$(window).on("load resize",self.compute_dimensions);var children=this.slides().find("img");Foundation.utils.image_loaded(children,self.compute_dimensions),Foundation.utils.image_loaded(children,function(){container.prev("."+settings.preloader_class).css("display","none"),self.update_slide_number(idx),self.update_active_link(idx),slides_container.trigger("ready.fndtn.orbit")})},self.init()},Timer=function(el,settings,callback){var start,timeout,self=this,duration=settings.timer_speed,progress=el.find("."+settings.timer_progress_class),do_progress=progress&&"none"!=progress.css("display"),left=-1;this.update_progress=function(w){var new_progress=progress.clone();new_progress.attr("style",""),new_progress.css("width",w+"%"),progress.replaceWith(new_progress),progress=new_progress},this.restart=function(){clearTimeout(timeout),el.addClass(settings.timer_paused_class),left=-1,do_progress&&self.update_progress(0),self.start()},this.start=function(){return el.hasClass(settings.timer_paused_class)?(left=-1===left?duration:left,el.removeClass(settings.timer_paused_class),do_progress&&(start=(new Date).getTime(),progress.animate({width:"100%"},left,"linear")),timeout=setTimeout(function(){self.restart(),callback()},left),void el.trigger("timer-started.fndtn.orbit")):!0},this.stop=function(){if(el.hasClass(settings.timer_paused_class))return!0;if(clearTimeout(timeout),el.addClass(settings.timer_paused_class),do_progress){var end=(new Date).getTime();left-=end-start;var w=100-left/duration*100;self.update_progress(w)}el.trigger("timer-stopped.fndtn.orbit")}},CSSAnimation=function(settings,container){var animation_end="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";this.next=function(current,next,callback){Modernizr.csstransitions?next.on(animation_end,function(){next.unbind(animation_end),current.removeClass("active animate-out"),next.removeClass("animate-in"),container.children().css({transform:"","-ms-transform":"","-webkit-transition-duration":"","-moz-transition-duration":"","-o-transition-duration":"","transition-duration":""}),callback()}):setTimeout(function(){current.removeClass("active animate-out"),next.removeClass("animate-in"),container.children().css({transform:"","-ms-transform":"","-webkit-transition-duration":"","-moz-transition-duration":"","-o-transition-duration":"","transition-duration":""}),callback()},settings.animation_speed),container.children().css({transform:"","-ms-transform":"","-webkit-transition-duration":"","-moz-transition-duration":"","-o-transition-duration":"","transition-duration":""}),current.addClass("animate-out"),next.addClass("animate-in")},this.prev=function(current,prev,callback){Modernizr.csstransitions?prev.on(animation_end,function(){prev.unbind(animation_end),current.removeClass("active animate-out"),prev.removeClass("animate-in"),container.children().css({transform:"","-ms-transform":"","-webkit-transition-duration":"","-moz-transition-duration":"","-o-transition-duration":"","transition-duration":""}),callback()}):setTimeout(function(){current.removeClass("active animate-out"),prev.removeClass("animate-in"),container.children().css({transform:"","-ms-transform":"","-webkit-transition-duration":"","-moz-transition-duration":"","-o-transition-duration":"","transition-duration":""}),callback()},settings.animation_speed),container.children().css({transform:"","-ms-transform":"","-webkit-transition-duration":"","-moz-transition-duration":"","-o-transition-duration":"","transition-duration":""}),current.addClass("animate-out"),prev.addClass("animate-in")}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.2.2",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",timer_show_progress_bar:!0,slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:noop,after_slide_change:noop},init:function(scope,method,options){this.bindings(method,options)},events:function(instance){var orbit_instance=new Orbit(this.S(instance),this.S(instance).data("orbit-init"));this.S(instance).data(self.name+"-instance",orbit_instance)},reflow:function(){var self=this;if(self.S(self.scope).is("[data-orbit]")){var $el=self.S(self.scope),instance=$el.data(self.name+"-instance");instance.compute_dimensions()}else self.S("[data-orbit]",self.scope).each(function(idx,el){var $el=self.S(el),instance=(self.data_options($el),$el.data(self.name+"-instance"));instance.compute_dimensions()})}}}(jQuery,this,this.document),function($,window,document,undefined){"use strict";function getAnimationData(str){var fade=/fade/i.test(str),pop=/pop/i.test(str);return{animate:fade||pop,pop:pop,fade:fade}}Foundation.libs.reveal={name:"reveal",version:"5.2.2",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:$(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(scope,method,options){$.extend(!0,this.settings,method,options),this.bindings(method,options)},events:function(){var self=this,S=self.S;return S(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(e){if(e.preventDefault(),!self.locked){var element=S(this),ajax=element.data(self.data_attr("reveal-ajax"));if(self.locked=!0,"undefined"==typeof ajax)self.open.call(self,element);else{var url=ajax===!0?element.attr("href"):ajax;self.open.call(self,element,{url:url})}}}),S(document).on("touchend.fndtn.reveal click.fndtn.reveal",this.close_targets(),function(e){if(e.preventDefault(),!self.locked){var settings=S("["+self.attr_name()+"].open").data(self.attr_name(!0)+"-init"),bg_clicked=S(e.target)[0]===S("."+settings.bg_class)[0];if(bg_clicked){if(!settings.close_on_background_click)return;e.stopPropagation()}self.locked=!0,self.close.call(self,bg_clicked?S("["+self.attr_name()+"].open"):S(this).closest("["+self.attr_name()+"]"))}}),S("["+self.attr_name()+"]",this.scope).length>0?S(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):S(this.scope).on("open.fndtn.reveal","["+self.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+self.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+self.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+self.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+self.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+self.attr_name()+"]",this.close_video),!0},key_up_on:function(){var self=this;return self.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(event){var open_modal=self.S("["+self.attr_name()+"].open"),settings=open_modal.data(self.attr_name(!0)+"-init");settings&&27===event.which&&settings.close_on_esc&&!self.locked&&self.close.call(self,open_modal)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(target,ajax_settings){var self=this;if(target)if("undefined"!=typeof target.selector)var modal=self.S("#"+target.data(self.data_attr("reveal-id")));else{var modal=self.S(this.scope);ajax_settings=target}else var modal=self.S(this.scope);var settings=modal.data(self.attr_name(!0)+"-init");if(!modal.hasClass("open")){var open_modal=self.S("["+self.attr_name()+"].open");if("undefined"==typeof modal.data("css-top")&&modal.data("css-top",parseInt(modal.css("top"),10)).data("offset",this.cache_offset(modal)),this.key_up_on(modal),modal.trigger("open"),open_modal.length<1&&this.toggle_bg(modal),"string"==typeof ajax_settings&&(ajax_settings={url:ajax_settings}),"undefined"!=typeof ajax_settings&&ajax_settings.url){var old_success="undefined"!=typeof ajax_settings.success?ajax_settings.success:null;$.extend(ajax_settings,{success:function(data,textStatus,jqXHR){$.isFunction(old_success)&&old_success(data,textStatus,jqXHR),modal.html(data),self.S(modal).foundation("section","reflow"),open_modal.length>0&&self.hide(open_modal,settings.css.close),self.show(modal,settings.css.open)}}),$.ajax(ajax_settings)}else open_modal.length>0&&this.hide(open_modal,settings.css.close),this.show(modal,settings.css.open)}},close:function(modal){var modal=modal&&modal.length?modal:this.S(this.scope),open_modals=this.S("["+this.attr_name()+"].open"),settings=modal.data(this.attr_name(!0)+"-init");open_modals.length>0&&(this.locked=!0,this.key_up_off(modal),modal.trigger("close"),this.toggle_bg(modal),this.hide(open_modals,settings.css.close,settings))},close_targets:function(){var base="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?base+", ."+this.settings.bg_class:base},toggle_bg:function(modal){modal.data(this.attr_name(!0));0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=$("<div />",{"class":this.settings.bg_class}).appendTo("body").hide()),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(el,css){if(css){var settings=el.data(this.attr_name(!0)+"-init");if(0===el.parent("body").length){var placeholder=el.wrap('<div style="display: none;" />').parent(),rootElement=this.settings.rootElement||"body";el.on("closed.fndtn.reveal.wrapped",function(){el.detach().appendTo(placeholder),el.unwrap().unbind("closed.fndtn.reveal.wrapped")}),el.detach().appendTo(rootElement)}var animData=getAnimationData(settings.animation);if(animData.animate||(this.locked=!1),animData.pop){css.top=$(window).scrollTop()-el.data("offset")+"px";var end_css={top:$(window).scrollTop()+el.data("css-top")+"px",opacity:1};return setTimeout(function(){return el.css(css).animate(end_css,settings.animation_speed,"linear",function(){this.locked=!1,el.trigger("opened")}.bind(this)).addClass("open")}.bind(this),settings.animation_speed/2)}if(animData.fade){css.top=$(window).scrollTop()+el.data("css-top")+"px";var end_css={opacity:1};return setTimeout(function(){return el.css(css).animate(end_css,settings.animation_speed,"linear",function(){this.locked=!1,el.trigger("opened")}.bind(this)).addClass("open")}.bind(this),settings.animation_speed/2)}return el.css(css).show().css({opacity:1}).addClass("open").trigger("opened")}var settings=this.settings;return getAnimationData(settings.animation).fade?el.fadeIn(settings.animation_speed/2):(this.locked=!1,el.show())},hide:function(el,css){if(css){var settings=el.data(this.attr_name(!0)+"-init"),animData=getAnimationData(settings.animation);if(animData.animate||(this.locked=!1),animData.pop){var end_css={top:-$(window).scrollTop()-el.data("offset")+"px",opacity:0};return setTimeout(function(){return el.animate(end_css,settings.animation_speed,"linear",function(){this.locked=!1,el.css(css).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),settings.animation_speed/2)}if(animData.fade){var end_css={opacity:0};return setTimeout(function(){return el.animate(end_css,settings.animation_speed,"linear",function(){this.locked=!1,el.css(css).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),settings.animation_speed/2)}return el.hide().css(css).removeClass("open").trigger("closed")}var settings=this.settings;return getAnimationData(settings.animation).fade?el.fadeOut(settings.animation_speed/2):el.hide()},close_video:function(e){var video=$(".flex-video",e.target),iframe=$("iframe",video);iframe.length>0&&(iframe.attr("data-src",iframe[0].src),iframe.attr("src","about:blank"),video.hide())},open_video:function(e){var video=$(".flex-video",e.target),iframe=video.find("iframe");if(iframe.length>0){var data_src=iframe.attr("data-src");if("string"==typeof data_src)iframe[0].src=iframe.attr("data-src");else{var src=iframe[0].src;iframe[0].src=undefined,iframe[0].src=src}video.show()}},data_attr:function(str){return this.namespace.length>0?this.namespace+"-"+str:str},cache_offset:function(modal){var offset=modal.show().height()+parseInt(modal.css("top"),10);return modal.hide(),offset},off:function(){$(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,this,this.document),function($,window){"use strict";Foundation.libs.slider={name:"slider",version:"5.2.2",settings:{start:0,end:100,step:1,initial:null,display_selector:"",on_change:function(){}},cache:{},init:function(scope,method,options){Foundation.inherit(this,"throttle"),this.bindings(method,options),this.reflow()},events:function(){var self=this;$(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+self.attr_name()+"] .range-slider-handle",function(e){self.cache.active||(e.preventDefault(),self.set_active_slider($(e.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(e){self.cache.active&&(e.preventDefault(),self.calculate_position(self.cache.active,e.pageX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX||e.currentPoint.x))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){self.remove_active_slider()}).on("change.fndtn.slider",function(){self.settings.on_change()}),self.S(window).on("resize.fndtn.slider",self.throttle(function(){self.reflow()},300))},set_active_slider:function($handle){this.cache.active=$handle},remove_active_slider:function(){this.cache.active=null},calculate_position:function($handle,cursor_x){var self=this,settings=$.extend({},self.settings,self.data_options($handle.parent())),bar_w=($.data($handle[0],"handle_w"),$.data($handle[0],"handle_o"),$.data($handle[0],"bar_w")),bar_o=$.data($handle[0],"bar_o");requestAnimationFrame(function(){var pct;pct=Foundation.rtl?self.limit_to((bar_o+bar_w-cursor_x)/bar_w,0,1):self.limit_to((cursor_x-bar_o)/bar_w,0,1);var norm=self.normalized_value(pct,settings.start,settings.end,settings.step);self.set_ui($handle,norm)})},set_ui:function($handle,value){var settings=$.extend({},this.settings,this.data_options($handle.parent())),handle_w=$.data($handle[0],"handle_w"),bar_w=$.data($handle[0],"bar_w"),norm_pct=this.normalized_percentage(value,settings.start,settings.end),handle_offset=norm_pct*(bar_w-handle_w)-1,progress_bar_width=100*norm_pct;Foundation.rtl&&(handle_offset=-handle_offset),this.set_translate($handle,handle_offset),$handle.siblings(".range-slider-active-segment").css("width",progress_bar_width+"%"),$handle.parent().attr(this.attr_name(),value),$handle.parent().trigger("change"),$handle.parent().children("input[type=hidden]").val(value),""!=settings.input_id&&$(settings.display_selector).each(function(){this.hasOwnProperty("value")?$(this).val(value):$(this).text(value)})},normalized_percentage:function(val,start,end){return(val-start)/(end-start)},normalized_value:function(val,start,end,step){var range=end-start,step=step,point=val*range,mod=(point-point%step)/step,rem=point%step,round=rem>=.5*step?step:0;return mod*step+round+start},set_translate:function(ele,offset,vertical){vertical?$(ele).css("-webkit-transform","translateY("+offset+"px)").css("-moz-transform","translateY("+offset+"px)").css("-ms-transform","translateY("+offset+"px)").css("-o-transform","translateY("+offset+"px)").css("transform","translateY("+offset+"px)"):$(ele).css("-webkit-transform","translateX("+offset+"px)").css("-moz-transform","translateX("+offset+"px)").css("-ms-transform","translateX("+offset+"px)").css("-o-transform","translateX("+offset+"px)").css("transform","translateX("+offset+"px)")},limit_to:function(val,min,max){return Math.min(Math.max(val,min),max)},initialize_settings:function(handle){$.data(handle,"bar",$(handle).parent()),$.data(handle,"bar_o",$(handle).parent().offset().left),$.data(handle,"bar_w",$(handle).parent().outerWidth()),$.data(handle,"handle_o",$(handle).offset().left),$.data(handle,"handle_w",$(handle).outerWidth()),$.data(handle,"settings",$.extend({},this.settings,this.data_options($(handle).parent())))},set_initial_position:function($ele){var settings=$.data($ele.children(".range-slider-handle")[0],"settings"),initial=settings.initial?settings.initial:Math.floor(.5*(settings.end-settings.start)/settings.step)*settings.step+settings.start,$handle=$ele.children(".range-slider-handle");this.set_ui($handle,initial)},set_value:function(value){var self=this;$("["+self.attr_name()+"]",this.scope).each(function(){$(this).attr(self.attr_name(),value)}),$(this.scope).attr(self.attr_name())&&$(this.scope).attr(self.attr_name(),value),self.reflow()},reflow:function(){var self=this;self.S("["+this.attr_name()+"]").each(function(){var handle=$(this).children(".range-slider-handle")[0],val=$(this).attr(self.attr_name());self.initialize_settings(handle),val?self.set_ui($(handle),parseFloat(val)):self.set_initial_position($(this))})}}}(jQuery,this,this.document),function($,window,document,undefined){"use strict";Foundation.libs.tab={name:"tab",version:"5.2.2",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(scope,method,options){var self=this,S=this.S;this.bindings(method,options),this.handle_location_hash_change(),S("["+this.attr_name()+"] > dd.active > a",this.scope).each(function(){self.default_tab_hashes.push(this.hash)})},events:function(){var self=this,S=this.S;S(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > dd > a",function(e){var settings=S(this).closest("["+self.attr_name()+"]").data(self.attr_name(!0)+"-init");(!settings.is_hover||Modernizr.touch)&&(e.preventDefault(),e.stopPropagation(),self.toggle_active_tab(S(this).parent()))}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > dd > a",function(){var settings=S(this).closest("["+self.attr_name()+"]").data(self.attr_name(!0)+"-init");settings.is_hover&&self.toggle_active_tab(S(this).parent())}),S(window).on("hashchange.fndtn.tab",function(e){e.preventDefault(),self.handle_location_hash_change()})},handle_location_hash_change:function(){var self=this,S=this.S;S("["+this.attr_name()+"]",this.scope).each(function(){var settings=S(this).data(self.attr_name(!0)+"-init");if(settings.deep_linking){var hash=self.scope.location.hash;if(""!=hash){var hash_element=S(hash);if(hash_element.hasClass("content")&&hash_element.parent().hasClass("tab-content"))self.toggle_active_tab($("["+self.attr_name()+"] > dd > a[href="+hash+"]").parent());else{var hash_tab_container_id=hash_element.closest(".content").attr("id");hash_tab_container_id!=undefined&&self.toggle_active_tab($("["+self.attr_name()+"] > dd > a[href=#"+hash_tab_container_id+"]").parent(),hash)}}else for(var ind in self.default_tab_hashes)self.toggle_active_tab($("["+self.attr_name()+"] > dd > a[href="+self.default_tab_hashes[ind]+"]").parent())}})},toggle_active_tab:function(tab,location_hash){var S=this.S,tabs=tab.closest("["+this.attr_name()+"]"),anchor=tab.children("a").first(),target_hash="#"+anchor.attr("href").split("#")[1],target=S(target_hash),siblings=tab.siblings(),settings=tabs.data(this.attr_name(!0)+"-init");if(S(this).data(this.data_attr("tab-content"))&&(target_hash="#"+S(this).data(this.data_attr("tab-content")).split("#")[1],target=S(target_hash)),settings.deep_linking){var cur_ypos=$("body,html").scrollTop();window.location.hash=location_hash!=undefined?location_hash:target_hash,settings.scroll_to_content?location_hash==undefined||location_hash==target_hash?tab.parent()[0].scrollIntoView():S(target_hash)[0].scrollIntoView():(location_hash==undefined||location_hash==target_hash)&&$("body,html").scrollTop(cur_ypos)}tab.addClass(settings.active_class).triggerHandler("opened"),siblings.removeClass(settings.active_class),target.siblings().removeClass(settings.active_class).end().addClass(settings.active_class),settings.callback(tab),target.triggerHandler("toggled",[tab]),tabs.triggerHandler("toggled",[target])},data_attr:function(str){return this.namespace.length>0?this.namespace+"-"+str:str},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function($,window){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.2.2",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,tip_template:function(selector,content){return'<span data-selector="'+selector+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+content+'<span class="nub"></span></span>'}},cache:{},init:function(scope,method,options){Foundation.inherit(this,"random_str"),this.bindings(method,options)},events:function(instance){var self=this,S=self.S;self.create(this.S(instance)),$(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(e){var $this=S(this),settings=$.extend({},self.settings,self.data_options($this)),is_touch=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&S(e.target).is("a"))return!1;if(/mouse/i.test(e.type)&&self.ie_touch(e))return!1;if($this.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&e.preventDefault(),self.hide($this);else{if(settings.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type))return;!settings.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&(e.preventDefault(),S(settings.tooltip_class+".open").hide(),is_touch=!0),/enter|over/i.test(e.type)?this.timer=setTimeout(function(){self.showTip($this)}.bind(this),self.settings.hover_delay):"mouseout"===e.type||"mouseleave"===e.type?(clearTimeout(this.timer),self.hide($this)):self.showTip($this)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(e){return/mouse/i.test(e.type)&&self.ie_touch(e)?!1:void(("touch"!=$(this).data("tooltip-open-event-type")||"mouseleave"!=e.type)&&("mouse"==$(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(e.type)?self.convert_to_touch($(this)):self.hide($(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){self.hide(S(this))})},ie_touch:function(){return!1},showTip:function($target){this.getTip($target);return this.show($target)},getTip:function($target){var selector=this.selector($target),settings=$.extend({},this.settings,this.data_options($target)),tip=null;return selector&&(tip=this.S('span[data-selector="'+selector+'"]'+settings.tooltip_class)),"object"==typeof tip?tip:!1},selector:function($target){var id=$target.attr("id"),dataSelector=$target.attr(this.attr_name())||$target.attr("data-selector");return(id&&id.length<1||!id)&&"string"!=typeof dataSelector&&(dataSelector=this.random_str(6),$target.attr("data-selector",dataSelector)),id&&id.length>0?id:dataSelector},create:function($target){var self=this,settings=$.extend({},this.settings,this.data_options($target)),tip_template=this.settings.tip_template;"string"==typeof settings.tip_template&&window.hasOwnProperty(settings.tip_template)&&(tip_template=window[settings.tip_template]);var $tip=$(tip_template(this.selector($target),$("<div></div>").html($target.attr("title")).html())),classes=this.inheritable_classes($target);$tip.addClass(classes).appendTo(settings.append_to),Modernizr.touch&&($tip.append('<span class="tap-to-close">'+settings.touch_close_text+"</span>"),$tip.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){self.hide($target)})),$target.removeAttr("title").attr("title","")},reposition:function(target,tip,classes){var width,nub,nubHeight,nubWidth,objPos;if(tip.css("visibility","hidden").show(),width=target.data("width"),nub=tip.children(".nub"),nubHeight=nub.outerHeight(),nubWidth=nub.outerHeight(),tip.css(this.small()?{width:"100%"}:{width:width?width:"auto"}),objPos=function(obj,top,right,bottom,left){return obj.css({top:top?top:"auto",bottom:bottom?bottom:"auto",left:left?left:"auto",right:right?right:"auto"}).end()},objPos(tip,target.offset().top+target.outerHeight()+10,"auto","auto",target.offset().left),this.small())objPos(tip,target.offset().top+target.outerHeight()+10,"auto","auto",12.5,$(this.scope).width()),tip.addClass("tip-override"),objPos(nub,-nubHeight,"auto","auto",target.offset().left);else{var left=target.offset().left;Foundation.rtl&&(nub.addClass("rtl"),left=target.offset().left+target.outerWidth()-tip.outerWidth()),objPos(tip,target.offset().top+target.outerHeight()+10,"auto","auto",left),tip.removeClass("tip-override"),classes&&classes.indexOf("tip-top")>-1?(Foundation.rtl&&nub.addClass("rtl"),objPos(tip,target.offset().top-tip.outerHeight(),"auto","auto",left).removeClass("tip-override")):classes&&classes.indexOf("tip-left")>-1?(objPos(tip,target.offset().top+target.outerHeight()/2-tip.outerHeight()/2,"auto","auto",target.offset().left-tip.outerWidth()-nubHeight).removeClass("tip-override"),nub.removeClass("rtl")):classes&&classes.indexOf("tip-right")>-1&&(objPos(tip,target.offset().top+target.outerHeight()/2-tip.outerHeight()/2,"auto","auto",target.offset().left+target.outerWidth()+nubHeight).removeClass("tip-override"),nub.removeClass("rtl"))}tip.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function($target){var settings=$.extend({},this.settings,this.data_options($target)),inheritables=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(settings.additional_inheritable_classes),classes=$target.attr("class"),filtered=classes?$.map(classes.split(" "),function(el){return-1!==$.inArray(el,inheritables)?el:void 0}).join(" "):"";return $.trim(filtered)},convert_to_touch:function($target){var self=this,$tip=self.getTip($target),settings=$.extend({},self.settings,self.data_options($target));0===$tip.find(".tap-to-close").length&&($tip.append('<span class="tap-to-close">'+settings.touch_close_text+"</span>"),$tip.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){self.hide($target)})),$target.data("tooltip-open-event-type","touch")},show:function($target){var $tip=this.getTip($target);"touch"==$target.data("tooltip-open-event-type")&&this.convert_to_touch($target),this.reposition($target,$tip,$target.attr("class")),$target.addClass("open"),$tip.fadeIn(150)},hide:function($target){var $tip=this.getTip($target);$tip.fadeOut(150,function(){$tip.find(".tap-to-close").remove(),$tip.off("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),$target.removeClass("open")})},off:function(){var self=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(i){$("["+self.attr_name()+"]").eq(i).attr("title",$(this).text())}).remove()},reflow:function(){}}}(jQuery,this,this.document),function($,window,document){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.2.2",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!1,scrolltop:!0,sticky_on:"all"},init:function(section,method,options){Foundation.inherit(this,"add_custom_rule register_media throttle");var self=this;self.register_media("topbar","foundation-mq-topbar"),this.bindings(method,options),self.S("["+this.attr_name()+"]",this.scope).each(function(){{var topbar=$(this),settings=topbar.data(self.attr_name(!0)+"-init");self.S("section",this),topbar.children().filter("ul").first()}topbar.data("index",0);var topbarContainer=topbar.parent();topbarContainer.hasClass("fixed")||self.is_sticky(topbar,topbarContainer,settings)?(self.settings.sticky_class=settings.sticky_class,self.settings.sticky_topbar=topbar,topbar.data("height",topbarContainer.outerHeight()),topbar.data("stickyoffset",topbarContainer.offset().top)):topbar.data("height",topbar.outerHeight()),settings.assembled||self.assemble(topbar),settings.is_hover?self.S(".has-dropdown",topbar).addClass("not-click"):self.S(".has-dropdown",topbar).removeClass("not-click"),self.add_custom_rule(".f-topbar-fixed { padding-top: "+topbar.data("height")+"px }"),topbarContainer.hasClass("fixed")&&self.S("body").addClass("f-topbar-fixed")})},is_sticky:function(topbar,topbarContainer,settings){var sticky=topbarContainer.hasClass(settings.sticky_class);return sticky&&"all"===settings.sticky_on?!0:sticky&&this.small()&&"small"===settings.sticky_on?!0:sticky&&this.medium()&&"medium"===settings.sticky_on?!0:sticky&&this.large()&&"large"===settings.sticky_on?!0:!1},toggle:function(toggleEl){var self=this;if(toggleEl)var topbar=self.S(toggleEl).closest("["+this.attr_name()+"]");else var topbar=self.S("["+this.attr_name()+"]");var settings=topbar.data(this.attr_name(!0)+"-init"),section=self.S("section, .section",topbar);self.breakpoint()&&(self.rtl?(section.css({right:"0%"}),$(">.name",section).css({right:"100%"})):(section.css({left:"0%"}),$(">.name",section).css({left:"100%"})),self.S("li.moved",section).removeClass("moved"),topbar.data("index",0),topbar.toggleClass("expanded").css("height","")),settings.scrolltop?topbar.hasClass("expanded")?topbar.parent().hasClass("fixed")&&(settings.scrolltop?(topbar.parent().removeClass("fixed"),topbar.addClass("fixed"),self.S("body").removeClass("f-topbar-fixed"),window.scrollTo(0,0)):topbar.parent().removeClass("expanded")):topbar.hasClass("fixed")&&(topbar.parent().addClass("fixed"),topbar.removeClass("fixed"),self.S("body").addClass("f-topbar-fixed")):(self.is_sticky(topbar,topbar.parent(),settings)&&topbar.parent().addClass("fixed"),topbar.parent().hasClass("fixed")&&(topbar.hasClass("expanded")?(topbar.addClass("fixed"),topbar.parent().addClass("expanded"),self.S("body").addClass("f-topbar-fixed")):(topbar.removeClass("fixed"),topbar.parent().removeClass("expanded"),self.update_sticky_positioning())))
},timer:null,events:function(){var self=this,S=this.S;S(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(e){e.preventDefault(),self.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(){var li=$(this).closest("li");!self.breakpoint()||li.hasClass("back")||li.hasClass("has-dropdown")||self.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(e){var li=S(this),target=S(e.target),topbar=li.closest("["+self.attr_name()+"]"),settings=topbar.data(self.attr_name(!0)+"-init");return target.data("revealId")?void self.toggle():void(self.breakpoint()||(!settings.is_hover||Modernizr.touch)&&(e.stopImmediatePropagation(),li.hasClass("hover")?(li.removeClass("hover").find("li").removeClass("hover"),li.parents("li.hover").removeClass("hover")):(li.addClass("hover"),$(li).siblings().removeClass("hover"),"A"===target[0].nodeName&&target.parent().hasClass("has-dropdown")&&e.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(e){if(self.breakpoint()){e.preventDefault();var $this=S(this),topbar=$this.closest("["+self.attr_name()+"]"),section=topbar.find("section, .section"),$selectedLi=($this.next(".dropdown").outerHeight(),$this.closest("li"));topbar.data("index",topbar.data("index")+1),$selectedLi.addClass("moved"),self.rtl?(section.css({right:-(100*topbar.data("index"))+"%"}),section.find(">.name").css({right:100*topbar.data("index")+"%"})):(section.css({left:-(100*topbar.data("index"))+"%"}),section.find(">.name").css({left:100*topbar.data("index")+"%"})),topbar.css("height",$this.siblings("ul").outerHeight(!0)+topbar.data("height"))}}),S(window).off(".topbar").on("resize.fndtn.topbar",self.throttle(function(){self.resize.call(self)},50)).trigger("resize"),S("body").off(".topbar").on("click.fndtn.topbar touchstart.fndtn.topbar",function(e){var parent=S(e.target).closest("li").closest("li.hover");parent.length>0||S("["+self.attr_name()+"] li.hover").removeClass("hover")}),S(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(e){e.preventDefault();var $this=S(this),topbar=$this.closest("["+self.attr_name()+"]"),section=topbar.find("section, .section"),$movedLi=(topbar.data(self.attr_name(!0)+"-init"),$this.closest("li.moved")),$previousLevelUl=$movedLi.parent();topbar.data("index",topbar.data("index")-1),self.rtl?(section.css({right:-(100*topbar.data("index"))+"%"}),section.find(">.name").css({right:100*topbar.data("index")+"%"})):(section.css({left:-(100*topbar.data("index"))+"%"}),section.find(">.name").css({left:100*topbar.data("index")+"%"})),0===topbar.data("index")?topbar.css("height",""):topbar.css("height",$previousLevelUl.outerHeight(!0)+topbar.data("height")),setTimeout(function(){$movedLi.removeClass("moved")},300)})},resize:function(){var self=this;self.S("["+this.attr_name()+"]").each(function(){var stickyOffset,topbar=self.S(this),settings=topbar.data(self.attr_name(!0)+"-init"),stickyContainer=topbar.parent("."+self.settings.sticky_class);if(!self.breakpoint()){var doToggle=topbar.hasClass("expanded");topbar.css("height","").removeClass("expanded").find("li").removeClass("hover"),doToggle&&self.toggle(topbar)}self.is_sticky(topbar,stickyContainer,settings)&&(stickyContainer.hasClass("fixed")?(stickyContainer.removeClass("fixed"),stickyOffset=stickyContainer.offset().top,self.S(document.body).hasClass("f-topbar-fixed")&&(stickyOffset-=topbar.data("height")),topbar.data("stickyoffset",stickyOffset),stickyContainer.addClass("fixed")):(stickyOffset=stickyContainer.offset().top,topbar.data("stickyoffset",stickyOffset)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(topbar){{var self=this,settings=topbar.data(this.attr_name(!0)+"-init"),section=self.S("section",topbar);$(this).children().filter("ul").first()}section.detach(),self.S(".has-dropdown>a",section).each(function(){var $link=self.S(this),$dropdown=$link.siblings(".dropdown"),url=$link.attr("href");if(!$dropdown.find(".title.back").length){if(settings.mobile_show_parent_link&&url&&url.length>1)var $titleLi=$('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li><a class="parent-link js-generated" href="'+url+'">'+$link.text()+"</a></li>");else var $titleLi=$('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li>');$("h5>a",$titleLi).html(1==settings.custom_back_text?settings.back_text:"&laquo; "+$link.html()),$dropdown.prepend($titleLi)}}),section.appendTo(topbar),this.sticky(),this.assembled(topbar)},assembled:function(topbar){topbar.data(this.attr_name(!0),$.extend({},topbar.data(this.attr_name(!0)),{assembled:!0}))},height:function(ul){var total=0,self=this;return $("> li",ul).each(function(){total+=self.S(this).outerHeight(!0)}),total},sticky:function(){var self=(this.S(window),this);this.S(window).on("scroll",function(){self.update_sticky_positioning()})},update_sticky_positioning:function(){var klass="."+this.settings.sticky_class,$window=this.S(window),self=this;if(self.settings.sticky_topbar&&self.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var distance=this.settings.sticky_topbar.data("stickyoffset");self.S(klass).hasClass("expanded")||($window.scrollTop()>distance?self.S(klass).hasClass("fixed")||(self.S(klass).addClass("fixed"),self.S("body").addClass("f-topbar-fixed")):$window.scrollTop()<=distance&&self.S(klass).hasClass("fixed")&&(self.S(klass).removeClass("fixed"),self.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(window).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,this,this.document),function($,window){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.2.2",settings:{use_tallest:!0,before_height_change:$.noop,after_height_change:$.noop},init:function(scope,method,options){Foundation.inherit(this,"image_loaded"),this.bindings(method,options),this.reflow()},events:function(){this.S(window).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(equalizer){var isStacked=!1,vals=equalizer.find("["+this.attr_name()+"-watch]:visible"),firstTopOffset=vals.first().offset().top,settings=equalizer.data(this.attr_name(!0)+"-init");if(0!==vals.length&&(settings.before_height_change(),equalizer.trigger("before-height-change"),vals.height("inherit"),vals.each(function(){var el=$(this);el.offset().top!==firstTopOffset&&(isStacked=!0)}),!isStacked)){var heights=vals.map(function(){return $(this).outerHeight()}).get();if(settings.use_tallest){var max=Math.max.apply(null,heights);vals.css("height",max)}else{var min=Math.min.apply(null,heights);vals.css("height",min)}settings.after_height_change(),equalizer.trigger("after-height-change")}},reflow:function(){var self=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var $eq_target=$(this);self.image_loaded(self.S("img",this),function(){self.equalize($eq_target)})})}}}(jQuery,this,this.document);var ltubApp=angular.module("ltubApp",[]);ltubApp.controller("DemoCtrl",["$scope",function($scope){$scope.showDemo=function(){$("#show-demo").fadeOut("slow",function(){$("div.sStart").height("100%"),$("#show-demo").replaceWith($("#demo-content").fadeIn("slow")),updateSizes(),moveTo("#demo-content"),$("#transference-demo").addClass("available"),analytics.track("Click Discover Bitcoin",{small:"small"==getWindowsSize()})})}}]),ltubApp.controller("TransactionCtrl",["$scope",function($scope){$scope.total_bitcoins=2,$scope.disabled=!1,$scope.transactionDemo=function(){$scope.disabled||($("#demo-transaction-form").parsley().validate()?($("#demo-transaction-send-button").addClass("disabled").qtip("destroy",!0),$("#demo-transaction-send-button").removeAttr("title"),$("#demo-pay-to-address-input").attr("disabled",""),$("#demo-input-amount").attr("disabled",""),$("#demo-remaining-bitcoins").text($scope.remainingBitcoins()+" bitcoins available"),$scope.disabled=!0,"medium"!=getWindowsSize()||$("#demo-transaction-details").isCompletelyScrolledIntoView()||moveTo("#demo-transaction-details"),setTimeout(function(){$("#demo-transaction-details").replaceWith($("#ok-purchase").fadeIn("slow")),$("#confirmation-sound")[0].play(),setTimeout(function(){$("#congratulations-demo-modal").foundation("reveal","open"),enable_bottom_sections_after_demo()},1800)},1e3),analytics.track("Click Send demo transaction successful")):analytics.track("Failed attempt to submit demo transaction",{valid_amount:$("#demo-input-amount").parsley().isValid(),amount_value:$("#demo-input-amount").val(),valid_address:$("#demo-pay-to-address-input").parsley().isValid(),address_value:$("#demo-pay-to-address-input").val()}))},$scope.remainingBitcoinsFormattedText=function(){var result=$scope.remainingBitcoins();return result!=$scope.total_bitcoins?result+" out of "+$scope.total_bitcoins+" bitcoins available":$scope.total_bitcoins+" bitcoins available"},$scope.remainingBitcoins=function(){var result=$scope.total_bitcoins,parsed=parseFloat($scope.input_amount);return parsed>0&&(result=$scope.total_bitcoins-parsed),result.toFixed(8).replace(/(\.[0-9]*?)0+$/,"$1").replace(/([0-9]*)\.$/,"$1")},$scope.copyAddress=function(){demo_copy_address_button_glowing=!1,$("#copy-demo-button").css("box-shadow","0px 0px 0px #FFF").removeClass("address-info-block-shop-higlighted").addClass("address-info-block-shop"),"medium"!=getWindowsSize()||$("#demo-pay-to-address-input").isBottomScrolledIntoView()||moveTo("#demo-pay-to-address-input"),$("#demo-pay-to-address-input").val($("#demo-pay-to-address").text()),$("#demo-transaction-form").parsley().validate(),analytics.track("Click Copy demo Bitcoin address")},$scope.showBlockchainSection=function(){$("#show-blockchain-section").replaceWith($("#demo-section-blockchain").fadeIn("slow")),analytics.track("Click Show Blockchain extra information")},$scope.discardDemoModal=function(){$("#congratulations-demo-modal").foundation("reveal","close"),moveTo("#show-blockchain-section"),analytics.track("Click Show more information from demo Send successful modal")},$scope.disableAddressGlowing=function(){$("#demo-pay-to-address-input").parsley().isValid()?(demo_input_address_glowing=!1,$("#demo-pay-to-address-input").css("box-shadow","0px 0px 0px #FFF")):(demo_copy_address_button_glowing=!0,$("#copy-demo-button").removeClass("address-info-block-shop").addClass("address-info-block-shop-higlighted"))},$scope.disableAmountGlowing=function(){$("#demo-input-amount").parsley().isValid()&&(demo_input_amount_glowing=!1,$("#demo-input-amount").css("box-shadow","0px 0px 0px #FFF"))}}]);var autoscrolled=!1,player,tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var demo_input_amount_glowing=!1,demo_input_amount_glowing_on=!1,demo_input_address_glowing=!1,demo_input_address_glowing_on=!1,demo_copy_address_button_glowing=!1,demo_copy_address_button_glowing_on=!1,show_bottom_elements=!1;$.fn.isBottomScrolledIntoView=function(){var items=getScrolledItems(this),docViewTop=items[0],docViewBottom=items[1],elemBottom=(items[2],items[3]);return elemBottom>=docViewTop&&docViewBottom>=elemBottom},$.fn.isScrolledIntoView=function(){var items=getScrolledItems(this),docViewTop=items[0],docViewBottom=items[1],elemTop=items[2],elemBottom=items[3];return docViewBottom>=elemBottom&&elemTop>=docViewTop||elemTop>=docViewTop&&docViewBottom>=elemTop||elemBottom>=docViewTop&&docViewBottom>=elemBottom||docViewTop>=elemTop&&elemBottom>=docViewBottom},$.fn.isCompletelyScrolledIntoView=function(){var items=getScrolledItems(this),docViewTop=items[0],docViewBottom=items[1],elemTop=items[2],elemBottom=items[3];return docViewBottom>=elemBottom&&elemTop>=docViewTop};var scrollFadingBlocked=!1,scrollFadingChecker=null,windowResize={height:0,width:0,update:function(){this.width=$(window).width(),this.height=$(window).height()},checkResize:function(callback){(this.width!=$(window).width()||this.height!=$(window).height())&&(this.update(),callback.apply())}};windowResize.update(),$(document).on("open","#WIP-modal",function(){loadLocalBitcoinSellers(),analytics.track("Click Get first bitcoins")}),$(document).on("opened","#mining-info-modal",function(){analytics.track("Click Show Mining information")}),$(document).on("opened","#mining-POW-modal",function(){analytics.track("Click Mining POW")}),window.ParsleyConfig=window.ParsleyConfig||{},function($){window.ParsleyConfig=$.extend(!0,{},window.ParsleyConfig,{validators:{equal:{fn:function(value,elem){return value==elem}}},i18n:{en:{equal:"Use the Bitcoin address the shop provided"},es:{equal:"Usa la direcci\xf3n de Bitcoin que la tienda proporciona"}}})}(window.jQuery),!function($){var ParsleyUtils={attr:function($element,namespace,checkAttr){var attribute,obj={},regex=new RegExp("^"+namespace,"i");if("undefined"==typeof $element||"undefined"==typeof $element[0])return{};for(var i in $element[0].attributes)if(attribute=$element[0].attributes[i],"undefined"!=typeof attribute&&null!==attribute&&attribute.specified&&regex.test(attribute.name)){if("undefined"!=typeof checkAttr&&new RegExp(checkAttr+"$","i").test(attribute.name))return!0;obj[this.camelize(attribute.name.replace(namespace,""))]=this.deserializeValue(attribute.value)}return"undefined"==typeof checkAttr?obj:!1},setAttr:function($element,namespace,attr,value){$element[0].setAttribute(this.dasherize(namespace+attr),String(value))},get:function(obj,path){for(var i=0,paths=(path||"").split(".");this.isObject(obj)||this.isArray(obj);)if(obj=obj[paths[i++]],i===paths.length)return obj;return void 0},hash:function(length){return String(Math.random()).substring(2,length?length+2:9)},isArray:function(mixed){return"[object Array]"===Object.prototype.toString.call(mixed)},isObject:function(mixed){return mixed===Object(mixed)},deserializeValue:function(value){var num;try{return value?"true"==value||("false"==value?!1:"null"==value?null:isNaN(num=Number(value))?/^[\[\{]/.test(value)?$.parseJSON(value):value:num):value}catch(e){return value}},camelize:function(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})},dasherize:function(str){return str.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}},ParsleyDefaults={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},ParsleyAbstract=function(){};ParsleyAbstract.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.parsleyInstance.OptionsFactory.get(this),this},validateThroughValidator:function(value,constraints,priority){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[value,constraints,priority])},subscribe:function(name,fn){return $.listenTo(this,name.toLowerCase(),fn),this},unsubscribe:function(name){return $.unsubscribeTo(this,name.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return $.emit("parsley:field:reset",this);for(var i=0;i<this.fields.length;i++)$.emit("parsley:field:reset",this.fields[i]);$.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return $.emit("parsley:field:destroy",this),void this.$element.removeData("Parsley");for(var i=0;i<this.fields.length;i++)this.fields[i].destroy();$.emit("parsley:form:destroy",this),this.$element.removeData("Parsley")}},function(exports){var Validator=function(options){return this.__class__="Validator",this.__version__="0.5.5",this.options=options||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};Validator.prototype={constructor:Validator,validate:function(objectOrString,AssertsOrConstraintOrGroup,group){if("string"!=typeof objectOrString&&"object"!=typeof objectOrString)throw new Error("You must validate an object or a string");return"string"==typeof objectOrString||_isArray(objectOrString)?this._validateString(objectOrString,AssertsOrConstraintOrGroup,group):this.isBinded(objectOrString)?this._validateBindedObject(objectOrString,AssertsOrConstraintOrGroup):this._validateObject(objectOrString,AssertsOrConstraintOrGroup,group)},bind:function(object,constraint){if("object"!=typeof object)throw new Error("Must bind a Constraint to an object");return object[this.bindingKey]=new Constraint(constraint),this},unbind:function(object){return"undefined"==typeof object._validatorjsConstraint?this:(delete object[this.bindingKey],this)},isBinded:function(object){return"undefined"!=typeof object[this.bindingKey]},getBinded:function(object){return this.isBinded(object)?object[this.bindingKey]:null},_validateString:function(string,assert,group){var result,failures=[];_isArray(assert)||(assert=[assert]);for(var i=0;i<assert.length;i++){if(!(assert[i]instanceof Assert))throw new Error("You must give an Assert or an Asserts array to validate a string");result=assert[i].check(string,group),result instanceof Violation&&failures.push(result)}return failures.length?failures:!0},_validateObject:function(object,constraint,group){if("object"!=typeof constraint)throw new Error("You must give a constraint to validate an object");return constraint instanceof Constraint?constraint.check(object,group):new Constraint(constraint).check(object,group)},_validateBindedObject:function(object,group){return object[this.bindingKey].check(object,group)}},Validator.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var Constraint=function(data,options){if(this.__class__="Constraint",this.options=options||{},this.nodes={},data)try{this._bootstrap(data)}catch(err){throw new Error("Should give a valid mapping object to Constraint",err,data)}return this};Constraint.prototype={constructor:Constraint,check:function(object,group){var result,failures={};for(var property in this.options.strict?this.nodes:object)if(this.options.strict?this.has(property,object):this.has(property))result=this._check(property,object[property],group),(_isArray(result)&&result.length>0||!_isArray(result)&&!_isEmptyObject(result))&&(failures[property]=result);else if(this.options.strict)try{(new Assert).HaveProperty(property).validate(object)}catch(violation){failures[property]=violation}return _isEmptyObject(failures)?!0:failures},add:function(node,object){if(object instanceof Assert||_isArray(object)&&object[0]instanceof Assert)return this.nodes[node]=object,this;if("object"==typeof object&&!_isArray(object))return this.nodes[node]=object instanceof Constraint?object:new Constraint(object),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",object)},has:function(node,nodes){var nodes="undefined"!=typeof nodes?nodes:this.nodes;return"undefined"!=typeof nodes[node]},get:function(node,placeholder){return this.has(node)?this.nodes[node]:placeholder||null},remove:function(node){var _nodes=[];for(var i in this.nodes)i!==node&&(_nodes[i]=this.nodes[i]);return this.nodes=_nodes,this},_bootstrap:function(data){if(data instanceof Constraint)return this.nodes=data.nodes;for(var node in data)this.add(node,data[node])},_check:function(node,value,group){if(this.nodes[node]instanceof Assert)return this._checkAsserts(value,[this.nodes[node]],group);if(_isArray(this.nodes[node]))return this._checkAsserts(value,this.nodes[node],group);if(this.nodes[node]instanceof Constraint)return this.nodes[node].check(value,group);throw new Error("Invalid node",this.nodes[node])},_checkAsserts:function(value,asserts,group){for(var result,failures=[],i=0;i<asserts.length;i++)result=asserts[i].check(value,group),"undefined"!=typeof result&&!0!==result&&failures.push(result);return failures}};var Violation=function(assert,value,violation){if(this.__class__="Violation",!(assert instanceof Assert))throw new Error("Should give an assertion implementing the Assert interface");this.assert=assert,this.value=value,"undefined"!=typeof violation&&(this.violation=violation)};Violation.prototype={show:function(){var show={assert:this.assert.__class__,value:this.value};return this.violation&&(show.violation=this.violation),show},__toString:function(){if("undefined"!=typeof this.violation)var violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected;return this.assert.__class__+' assert failed for "'+this.value+violation||""},getViolation:function(){var constraint,expected;for(constraint in this.violation)expected=this.violation[constraint];return{constraint:constraint,expected:expected}}};var Assert=function(group){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof group&&this.addGroup(group),this};Assert.prototype={construct:Assert,check:function(value,group){if(!(group&&!this.hasGroup(group)||!group&&this.hasGroups()))try{return this.validate(value,group)}catch(violation){return violation}},hasGroup:function(group){return _isArray(group)?this.hasOneOf(group):"Any"===group?!0:this.hasGroups()?-1!==this.groups.indexOf(group):"Default"===group},hasOneOf:function(groups){for(var i=0;i<groups.length;i++)if(this.hasGroup(groups[i]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(group){return _isArray(group)?this.addGroups(group):(this.hasGroup(group)||this.groups.push(group),this)},removeGroup:function(group){for(var _groups=[],i=0;i<this.groups.length;i++)group!==this.groups[i]&&_groups.push(this.groups[i]);return this.groups=_groups,this},addGroups:function(groups){for(var i=0;i<groups.length;i++)this.addGroup(groups[i]);return this},HaveProperty:function(node){return this.__class__="HaveProperty",this.node=node,this.validate=function(object){if("undefined"==typeof object[this.node])throw new Violation(this,object,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(value){if("string"!=typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(""!==value.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new Violation(this,value);return!0},this},Callback:function(fn){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof fn)throw new Error("Callback must be instanciated with a function");return this.fn=fn,this.validate=function(value){var arguments=[value].concat(this.arguments),result=this.fn.apply(this,arguments);if(!0!==result)throw new Violation(this,value,{result:result});return!0},this},Choice:function(list){if(this.__class__="Choice",!_isArray(list)&&"function"!=typeof list)throw new Error("Choice must be instanciated with an array or a function");return this.list=list,this.validate=function(value){for(var list="function"==typeof this.list?this.list():this.list,i=0;i<list.length;i++)if(value===list[i])return!0;throw new Violation(this,value,{choices:list})},this},Collection:function(constraint){return this.__class__="Collection",this.constraint="undefined"!=typeof constraint?new Constraint(constraint):!1,this.validate=function(collection,group){var result,validator=new Validator,count=0,failures={},groups=this.groups.length?this.groups:group;if(!_isArray(collection))throw new Violation(this,array,{value:Validator.errorCode.must_be_an_array});for(var i=0;i<collection.length;i++)result=this.constraint?validator.validate(collection[i],this.constraint,groups):validator.validate(collection[i],groups),_isEmptyObject(result)||(failures[count]=result),count++;return _isEmptyObject(failures)?!0:failures},this},Count:function(count){return this.__class__="Count",this.count=count,this.validate=function(array){if(!_isArray(array))throw new Violation(this,array,{value:Validator.errorCode.must_be_an_array});var count="function"==typeof this.count?this.count(array):this.count;if(isNaN(Number(count)))throw new Error("Count must be a valid interger",count);if(count!==array.length)throw new Violation(this,array,{count:count});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(value){var regExp=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(!regExp.test(value))throw new Violation(this,value);return!0},this},Eql:function(eql){if(this.__class__="Eql","undefined"==typeof eql)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=eql,this.validate=function(value){var eql="function"==typeof this.eql?this.eql(value):this.eql;if(!expect.eql(eql,value))throw new Violation(this,value,{eql:eql});return!0},this},EqualTo:function(reference){if(this.__class__="EqualTo","undefined"==typeof reference)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=reference,this.validate=function(value){var reference="function"==typeof this.reference?this.reference(value):this.reference;if(reference!==value)throw new Violation(this,value,{value:reference});return!0},this},GreaterThan:function(threshold){if(this.__class__="GreaterThan","undefined"==typeof threshold)throw new Error("Should give a threshold value");return this.threshold=threshold,this.validate=function(value){if(""===value||isNaN(Number(value)))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_number});if(this.threshold>=value)throw new Violation(this,value,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(threshold){if(this.__class__="GreaterThanOrEqual","undefined"==typeof threshold)throw new Error("Should give a threshold value");return this.threshold=threshold,this.validate=function(value){if(""===value||isNaN(Number(value)))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_number});if(this.threshold>value)throw new Violation(this,value,{threshold:this.threshold});return!0},this},InstanceOf:function(classRef){if(this.__class__="InstanceOf","undefined"==typeof classRef)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=classRef,this.validate=function(value){if(!0!=value instanceof this.classRef)throw new Violation(this,value,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(value){var regExp=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!=typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(!regExp.test(value))throw new Violation(this,value);return!0},this},Length:function(boundaries){if(this.__class__="Length",!boundaries.min&&!boundaries.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=boundaries.min,this.max=boundaries.max,this.validate=function(value){if("string"!=typeof value&&!_isArray(value))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&value.length!==this.min)throw new Violation(this,value,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&value.length>this.max)throw new Violation(this,value,{max:this.max});if("undefined"!=typeof this.min&&value.length<this.min)throw new Violation(this,value,{min:this.min});return!0},this},LessThan:function(threshold){if(this.__class__="LessThan","undefined"==typeof threshold)throw new Error("Should give a threshold value");return this.threshold=threshold,this.validate=function(value){if(""===value||isNaN(Number(value)))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_number});if(this.threshold<=value)throw new Violation(this,value,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(threshold){if(this.__class__="LessThanOrEqual","undefined"==typeof threshold)throw new Error("Should give a threshold value");return this.threshold=threshold,this.validate=function(value){if(""===value||isNaN(Number(value)))throw new Violation(this,value,{value:Validator.errorCode.must_be_a_number});if(this.threshold<value)throw new Violation(this,value,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(value){var regExp=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!=typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(!regExp.test(value))throw new Violation(this,value);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(value){if(null===value||"undefined"==typeof value)throw new Violation(this,value);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(value){if("string"!=typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(""===value.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new Violation(this,value);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(value){if(null!==value)throw new Violation(this,value);return!0},this},Range:function(min,max){if(this.__class__="Range",!min||!max)throw new Error("Range assert expects min and max values");return this.min=min,this.max=max,this.validate=function(value){try{return"string"==typeof value&&isNaN(Number(value))||_isArray(value)?(new Assert).Length({min:this.min,max:this.max}).validate(value):(new Assert).GreaterThanOrEqual(this.min).validate(value)&&(new Assert).LessThanOrEqual(this.max).validate(value),!0}catch(violation){throw new Violation(this,value,violation.violation)}return!0},this},Regexp:function(regexp,flag){if(this.__class__="Regexp","undefined"==typeof regexp)throw new Error("You must give a regexp");return this.regexp=regexp,this.flag=flag||"",this.validate=function(value){if("string"!=typeof value)throw new Violation(this,value,{value:Validator.errorCode.must_be_a_string});if(!new RegExp(this.regexp).test(value,this.flag))throw new Violation(this,value,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(value){if("undefined"==typeof value)throw new Violation(this,value);if("string"==typeof value)try{(new Assert).NotNull().validate(value)&&(new Assert).NotBlank().validate(value)}catch(violation){throw new Violation(this,value)}return!0},this},Unique:function(object){return this.__class__="Unique","object"==typeof object&&(this.key=object.key),this.validate=function(array){var value,store=[];if(!_isArray(array))throw new Violation(this,array,{value:Validator.errorCode.must_be_an_array});for(var i=0;i<array.length;i++)if(value="object"==typeof array[i]?array[i][this.key]:array[i],"undefined"!=typeof value){if(-1!==store.indexOf(value))throw new Violation(this,array,{value:value});store.push(value)}return!0},this}},exports.Assert=Assert,exports.Validator=Validator,exports.Violation=Violation,exports.Constraint=Constraint,Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){if(null==this)throw new TypeError;var t=Object(this),len=t.length>>>0;
if(0===len)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&1/0!=n&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);len>k;k++)if(k in t&&t[k]===searchElement)return k;return-1});var _isEmptyObject=function(obj){for(var property in obj)return!1;return!0},_isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},expect={eql:function(actual,expected){if(actual===expected)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(actual)&&Buffer.isBuffer(expected)){if(actual.length!==expected.length)return!1;for(var i=0;i<actual.length;i++)if(actual[i]!==expected[i])return!1;return!0}return actual instanceof Date&&expected instanceof Date?actual.getTime()===expected.getTime():"object"!=typeof actual&&"object"!=typeof expected?actual==expected:this.objEquiv(actual,expected)},isUndefinedOrNull:function(value){return null===value||"undefined"==typeof value},isArguments:function(object){return"[object Arguments]"==Object.prototype.toString.call(object)},keys:function(obj){if(Object.keys)return Object.keys(obj);var keys=[];for(var i in obj)Object.prototype.hasOwnProperty.call(obj,i)&&keys.push(i);return keys},objEquiv:function(a,b){if(this.isUndefinedOrNull(a)||this.isUndefinedOrNull(b))return!1;if(a.prototype!==b.prototype)return!1;if(this.isArguments(a))return this.isArguments(b)?eql(pSlice.call(a),pSlice.call(b)):!1;try{var key,i,ka=this.keys(a),kb=this.keys(b)}catch(e){return!1}if(ka.length!==kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!this.eql(a[key],b[key]))return!1;return!0}};"function"==typeof define&&define.amd&&define("validator",[],function(){return exports})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var ParsleyValidator=function(validators,catalog){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(validators||{},catalog||{})};ParsleyValidator.prototype={init:function(validators,catalog){this.catalog=catalog;for(var name in validators)this.addValidator(name,validators[name].fn,validators[name].priority);$.emit("parsley:validator:init")},setLocale:function(locale){if("undefined"==typeof this.catalog[locale])throw new Error(locale+" is not available in the catalog");return this.locale=locale,this},addCatalog:function(locale,messages,set){return"object"==typeof messages&&(this.catalog[locale]=messages),!0===set?this.setLocale(locale):this},addMessage:function(locale,name,message){void 0===typeof this.catalog[locale]&&(this.catalog[locale]={}),this.catalog[locale][name]=message},validate:function(){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(name,fn,priority){return this.validators[name]=function(requirements){return $.extend((new Validator.Assert).Callback(fn,requirements),{priority:priority})},this},updateValidator:function(name,fn,priority){return addValidator(name,fn,priority)},removeValidator:function(name){return delete this.validators[name],this},getErrorMessage:function(constraint){var message;return message="type"===constraint.name?window.ParsleyConfig.i18n[this.locale][constraint.name][constraint.requirements]:this.formatMesssage(window.ParsleyConfig.i18n[this.locale][constraint.name],constraint.requirements),""!==message?message:window.ParsleyConfig.i18n[this.locale].defaultMessage},formatMesssage:function(string,parameters){if("object"==typeof parameters){for(var i in parameters)string=this.formatMesssage(string,parameters[i]);return string}return"string"==typeof string?string.replace(new RegExp("%s","i"),parameters):""},validators:{notblank:function(){return $.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return $.extend((new Validator.Assert).Required(),{priority:512})},type:function(type){var assert;switch(type){case"email":assert=(new Validator.Assert).Email();break;case"number":assert=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":assert=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":assert=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":assert=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":assert=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+type+"` is not supported")}return $.extend(assert,{priority:256})},pattern:function(regexp){var flags="";return/^\/.*\/(?:[gimy]*)$/.test(regexp)&&(flags=regexp.replace(/.*\/([gimy]*)$/,"$1"),regexp=regexp.replace(new RegExp("^/(.*?)/"+flags+"$"),"$1")),$.extend((new Validator.Assert).Regexp(regexp,flags),{priority:64})},minlength:function(value){return $.extend((new Validator.Assert).Length({min:value}),{priority:30,requirementsTransformer:function(){return"string"!=typeof value||isNaN(value)?value:parseInt(value,10)}})},maxlength:function(value){return $.extend((new Validator.Assert).Length({max:value}),{priority:30,requirementsTransformer:function(){return"string"!=typeof value||isNaN(value)?value:parseInt(value,10)}})},length:function(array){return $.extend((new Validator.Assert).Length({min:array[0],max:array[1]}),{priority:32})},mincheck:function(length){return this.minlength(length)},maxcheck:function(length){return this.maxlength(length)},check:function(array){return this.length(array)},min:function(value){return $.extend((new Validator.Assert).GreaterThanOrEqual(value),{priority:30,requirementsTransformer:function(){return"string"!=typeof value||isNaN(value)?value:parseInt(value,10)}})},max:function(value){return $.extend((new Validator.Assert).LessThanOrEqual(value),{priority:30,requirementsTransformer:function(){return"string"!=typeof value||isNaN(value)?value:parseInt(value,10)}})},range:function(array){return $.extend((new Validator.Assert).Range(array[0],array[1]),{priority:32,requirementsTransformer:function(){for(var i=0;i<array.length;i++)array[i]="string"!=typeof array[i]||isNaN(array[i])?array[i]:parseInt(array[i],10);return array}})},equalto:function(value){return $.extend((new Validator.Assert).EqualTo(value),{priority:256,requirementsTransformer:function(){return $(value).length?$(value).val():value}})}}};var ParsleyUI=function(){this.__class__="ParsleyUI"};ParsleyUI.prototype={listen:function(){return $.listen("parsley:form:init",this,this.setupForm),$.listen("parsley:field:init",this,this.setupField),$.listen("parsley:field:validated",this,this.reflow),$.listen("parsley:form:validated",this,this.focus),$.listen("parsley:field:reset",this,this.reset),$.listen("parsley:form:destroy",this,this.destroy),$.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(fieldInstance){if("undefined"!=typeof fieldInstance._ui&&!1!==fieldInstance._ui.active){var diff=this._diff(fieldInstance.validationResult,fieldInstance._ui.lastValidationResult);fieldInstance._ui.lastValidationResult=fieldInstance.validationResult,fieldInstance._ui.validatedOnce=!0,this.manageStatusClass(fieldInstance),this.manageErrorsMessages(fieldInstance,diff),this.actualizeTriggers(fieldInstance),(diff.kept.length||diff.added.length)&&"undefined"==typeof fieldInstance._ui.failedOnce&&this.manageFailingFieldTrigger(fieldInstance)}},manageStatusClass:function(fieldInstance){!0===fieldInstance.validationResult?this._successClass(fieldInstance):fieldInstance.validationResult.length>0?this._errorClass(fieldInstance):this._resetClass(fieldInstance)},manageErrorsMessages:function(fieldInstance,diff){if("undefined"==typeof fieldInstance.options.errorsMessagesDisabled){if("undefined"!=typeof fieldInstance.options.errorMessage)return void(diff.added.length||diff.kept.length?(0===fieldInstance._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&fieldInstance._ui.$errorsWrapper.append($(fieldInstance.options.errorTemplate).addClass("parsley-custom-error-message")),fieldInstance._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(fieldInstance.options.errorMessage)):fieldInstance._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove());for(var i=0;i<diff.removed.length;i++)this.removeError(fieldInstance,diff.removed[i].assert.name,!0);for(i=0;i<diff.added.length;i++)this.addError(fieldInstance,diff.added[i].assert.name,void 0,diff.added[i].assert,!0);for(i=0;i<diff.kept.length;i++)this.updateError(fieldInstance,diff.kept[i].assert.name,void 0,diff.kept[i].assert,!0)}},addError:function(fieldInstance,name,message,assert,doNotUpdateClass){fieldInstance._ui.$errorsWrapper.addClass("filled").append($(fieldInstance.options.errorTemplate).addClass("parsley-"+name).html(message||this._getErrorMessage(fieldInstance,assert))),!0!==doNotUpdateClass&&this._errorClass(fieldInstance)},updateError:function(fieldInstance,name,message,assert,doNotUpdateClass){fieldInstance._ui.$errorsWrapper.addClass("filled").find(".parsley-"+name).html(message||this._getErrorMessage(fieldInstance,assert)),!0!==doNotUpdateClass&&this._errorClass(fieldInstance)},removeError:function(fieldInstance,name,doNotUpdateClass){fieldInstance._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+name).remove(),!0!==doNotUpdateClass&&this.manageStatusClass(fieldInstance)},focus:function(formInstance){if(!0===formInstance.validationResult||"none"===formInstance.options.focus)return formInstance._focusedField=null;formInstance._focusedField=null;for(var i=0;i<formInstance.fields.length;i++)if(!0!==formInstance.fields[i].validationResult&&formInstance.fields[i].validationResult.length>0&&"undefined"==typeof formInstance.fields[i].options.noFocus){if("first"===formInstance.options.focus)return formInstance._focusedField=formInstance.fields[i].$element,formInstance._focusedField.focus();formInstance._focusedField=formInstance.fields[i].$element}return null===formInstance._focusedField?null:formInstance._focusedField.focus()},_getErrorMessage:function(fieldInstance,constraint){var customConstraintErrorMessage=constraint.name+"Message";return"undefined"!=typeof fieldInstance.options[customConstraintErrorMessage]?fieldInstance.options[customConstraintErrorMessage]:window.ParsleyValidator.getErrorMessage(constraint)},_diff:function(newResult,oldResult,deep){for(var added=[],kept=[],i=0;i<newResult.length;i++){for(var found=!1,j=0;j<oldResult.length;j++)if(newResult[i].assert.name===oldResult[j].assert.name){found=!0;break}found?kept.push(newResult[i]):added.push(newResult[i])}return{kept:kept,added:added,removed:deep?[]:this._diff(oldResult,newResult,!0).added}},setupForm:function(formInstance){formInstance.$element.on("submit.Parsley",!1,$.proxy(formInstance.onSubmitValidate,formInstance)),!1!==formInstance.options.uiEnabled&&formInstance.$element.attr("novalidate","")},setupField:function(fieldInstance){var _ui={active:!1};!1!==fieldInstance.options.uiEnabled&&(_ui.active=!0,fieldInstance.$element.attr(fieldInstance.options.namespace+"id",fieldInstance.__id__),_ui.$errorClassHandler=this._manageClassHandler(fieldInstance),_ui.errorsWrapperId="parsley-id-"+("undefined"!=typeof fieldInstance.options.multiple?"multiple-"+fieldInstance.options.multiple:fieldInstance.__id__),_ui.$errorsWrapper=$(fieldInstance.options.errorsWrapper).attr("id",_ui.errorsWrapperId),_ui.lastValidationResult=[],_ui.validatedOnce=!1,_ui.validationInformationVisible=!1,fieldInstance._ui=_ui,this._insertErrorWrapper(fieldInstance),this.actualizeTriggers(fieldInstance))},_manageClassHandler:function(fieldInstance){if("string"==typeof fieldInstance.options.classHandler&&$(fieldInstance.options.classHandler).length)return $(fieldInstance.options.classHandler);var $handler=fieldInstance.options.classHandler(fieldInstance);return"undefined"!=typeof $handler&&$handler.length?$handler:"undefined"==typeof fieldInstance.options.multiple||fieldInstance.$element.is("select")?fieldInstance.$element:fieldInstance.$element.parent()},_insertErrorWrapper:function(fieldInstance){var $errorsContainer;if("string"==typeof fieldInstance.options.errorsContainer){if($(fieldInstance.options.errorsContainer+"").length)return $(fieldInstance.options.errorsContainer).append(fieldInstance._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+fieldInstance.options.errorsContainer+"` does not exist in DOM")}return"function"==typeof fieldInstance.options.errorsContainer&&($errorsContainer=fieldInstance.options.errorsContainer(fieldInstance)),"undefined"!=typeof $errorsContainer&&$errorsContainer.length?$errorsContainer.append(fieldInstance._ui.$errorsWrapper):"undefined"==typeof fieldInstance.options.multiple?fieldInstance.$element.after(fieldInstance._ui.$errorsWrapper):fieldInstance.$element.parent().after(fieldInstance._ui.$errorsWrapper)},actualizeTriggers:function(fieldInstance){var that=this;if(fieldInstance.options.multiple?$("["+fieldInstance.options.namespace+'multiple="'+fieldInstance.options.multiple+'"]').each(function(){$(this).off(".Parsley")}):fieldInstance.$element.off(".Parsley"),!1!==fieldInstance.options.trigger){var triggers=fieldInstance.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==triggers&&(fieldInstance.options.multiple?$("["+fieldInstance.options.namespace+'multiple="'+fieldInstance.options.multiple+'"]').each(function(){$(this).on(triggers.split(" ").join(".Parsley ")+".Parsley",!1,$.proxy("function"==typeof fieldInstance.eventValidate?fieldInstance.eventValidate:that.eventValidate,fieldInstance))}):fieldInstance.$element.on(triggers.split(" ").join(".Parsley ")+".Parsley",!1,$.proxy("function"==typeof fieldInstance.eventValidate?fieldInstance.eventValidate:this.eventValidate,fieldInstance)))}},eventValidate:function(event){new RegExp("key").test(event.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(fieldInstance){return fieldInstance._ui.failedOnce=!0,fieldInstance.options.multiple&&$("["+fieldInstance.options.namespace+'multiple="'+fieldInstance.options.multiple+'"]').each(function(){return new RegExp("change","i").test($(this).parsley().options.trigger||"")?void 0:$(this).on("change.ParsleyFailedOnce",!1,$.proxy(fieldInstance.validate,fieldInstance))}),fieldInstance.$element.is("select")&&!new RegExp("change","i").test(fieldInstance.options.trigger||"")?fieldInstance.$element.on("change.ParsleyFailedOnce",!1,$.proxy(fieldInstance.validate,fieldInstance)):new RegExp("keyup","i").test(fieldInstance.options.trigger||"")?void 0:fieldInstance.$element.on("keyup.ParsleyFailedOnce",!1,$.proxy(fieldInstance.validate,fieldInstance))},reset:function(parsleyInstance){"undefined"!=typeof parsleyInstance._ui&&(parsleyInstance.$element.off(".Parsley"),parsleyInstance.$element.off(".ParsleyFailedOnce"),"ParsleyForm"!==parsleyInstance.__class__&&(parsleyInstance._ui.$errorsWrapper.children().each(function(){$(this).remove()}),this._resetClass(parsleyInstance),parsleyInstance._ui.validatedOnce=!1,parsleyInstance._ui.lastValidationResult=[],parsleyInstance._ui.validationInformationVisible=!1))},destroy:function(parsleyInstance){"undefined"!=typeof parsleyInstance._ui&&(this.reset(parsleyInstance),"ParsleyForm"!==parsleyInstance.__class__&&(parsleyInstance._ui.$errorsWrapper.remove(),delete parsleyInstance._ui))},_successClass:function(fieldInstance){fieldInstance._ui.validationInformationVisible=!0,fieldInstance._ui.$errorClassHandler.removeClass(fieldInstance.options.errorClass).addClass(fieldInstance.options.successClass)},_errorClass:function(fieldInstance){fieldInstance._ui.validationInformationVisible=!0,fieldInstance._ui.$errorClassHandler.removeClass(fieldInstance.options.successClass).addClass(fieldInstance.options.errorClass)},_resetClass:function(fieldInstance){fieldInstance._ui.$errorClassHandler.removeClass(fieldInstance.options.successClass).removeClass(fieldInstance.options.errorClass)}};var ParsleyOptionsFactory=function(defaultOptions,globalOptions,userOptions,namespace){this.__class__="OptionsFactory",this.__id__=ParsleyUtils.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=$.extend(!0,{},defaultOptions,globalOptions,userOptions,{namespace:namespace})};ParsleyOptionsFactory.prototype={get:function(parsleyInstance){if("undefined"==typeof parsleyInstance.__class__)throw new Error("Parsley Instance expected");switch(parsleyInstance.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(parsleyInstance);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(parsleyInstance);default:throw new Error("Instance "+parsleyInstance.__class__+" is not supported")}},getFormOptions:function(formInstance){return this.formOptions=ParsleyUtils.attr(formInstance.$element,this.staticOptions.namespace),$.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(fieldInstance){return this.fieldOptions=ParsleyUtils.attr(fieldInstance.$element,this.staticOptions.namespace),null===this.formOptions&&"ParsleyForm"===fieldInstance.parsleyInstance.__proxy__&&(this.formOptions=getFormOptions(fieldInstance.parsleyInstance)),$.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var ParsleyForm=function(element,parsleyInstance){if(this.__class__="ParsleyForm",this.__id__=ParsleyUtils.hash(4),"Parsley"!==ParsleyUtils.get(parsleyInstance,"__class__"))throw new Error("You must give a Parsley instance");this.parsleyInstance=parsleyInstance,this.$element=$(element)};ParsleyForm.prototype={init:function(){return this.validationResult=null,this.options=this.parsleyInstance.OptionsFactory.get(this),this._bindFields(),this},onSubmitValidate:function(event){return this.validate(void 0,void 0,event),!1===this.validationResult&&event instanceof $.Event&&event.preventDefault(),this},validate:function(group,force,event){this.submitEvent=event,this.validationResult=!0;var fieldValidationResult=[];this._refreshFields(),$.emit("parsley:form:validate",this);for(var i=0;i<this.fields.length;i++)group&&group!==this.fields[i].options.group||(fieldValidationResult=this.fields[i].validate(force),!0!==fieldValidationResult&&fieldValidationResult.length>0&&this.validationResult&&(this.validationResult=!1));return $.emit("parsley:form:validated",this),this.validationResult},isValid:function(group,force){this._refreshFields();for(var i=0;i<this.fields.length;i++)if((!group||group===this.fields[i].options.group)&&!1===this.fields[i].isValid(force))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var self=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var fieldInstance=new window.Parsley(this,{},self.parsleyInstance);"ParsleyField"!==fieldInstance.__class__&&"ParsleyFieldMultiple"!==fieldInstance.__class__||fieldInstance.$element.is(fieldInstance.options.excluded)||"undefined"==typeof self.fieldsMappedById[fieldInstance.__class__+"-"+fieldInstance.__id__]&&(self.fieldsMappedById[fieldInstance.__class__+"-"+fieldInstance.__id__]=fieldInstance,self.fields.push(fieldInstance))}),this}};var ConstraintFactory=function(parsleyField,name,requirements,priority,isDomConstraint){if(!new RegExp("ParsleyField").test(ParsleyUtils.get(parsleyField,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[name]&&"Assert"!==window.ParsleyValidator.validators[name](requirements).__parentClass__)throw new Error("Valid validator expected");var getPriority=function(parsleyField,name){return"undefined"!=typeof parsleyField.options[name+"Priority"]?parsleyField.options[name+"Priority"]:ParsleyUtils.get(window.ParsleyValidator.validators[name](requirements),"priority")||2};return priority=priority||getPriority(parsleyField,name),"function"==typeof window.ParsleyValidator.validators[name](requirements).requirementsTransformer&&(requirements=window.ParsleyValidator.validators[name](requirements).requirementsTransformer()),$.extend(window.ParsleyValidator.validators[name](requirements),{name:name,requirements:requirements,priority:priority,groups:[priority],isDomConstraint:isDomConstraint||ParsleyUtils.attr(parsleyField.$element,parsleyField.options.namespace,name)})},ParsleyField=function(field,parsleyInstance){if(this.__class__="ParsleyField",this.__id__=ParsleyUtils.hash(4),"Parsley"!==ParsleyUtils.get(parsleyInstance,"__class__"))throw new Error("You must give a Parsley instance");this.parsleyInstance=parsleyInstance,this.$element=$(field),this.options=this.parsleyInstance.OptionsFactory.get(this)};ParsleyField.prototype={init:function(){return this.constraints=[],this.validationResult=[],this.bindConstraints(),this},validate:function(force){return this.value=this.getValue(),$.emit("parsley:field:validate",this),$.emit("parsley:field:"+(this.isValid(force,this.value)?"success":"error"),this),$.emit("parsley:field:validated",this),this.validationResult},getConstraintsSortedPriorities:function(){for(var priorities=[],i=0;i<this.constraints.length;i++)-1===priorities.indexOf(this.constraints[i].priority)&&priorities.push(this.constraints[i].priority);return priorities.sort(function(a,b){return b-a}),priorities},isValid:function(force,value){this.refreshConstraints();var priorities=this.getConstraintsSortedPriorities();if(value=value||this.getValue(),0===value.length&&!this.isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&"undefined"==typeof force)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(value,this.constraints,"Any"));for(var i=0;i<priorities.length;i++)if(!0!==(this.validationResult=this.validateThroughValidator(value,this.constraints,priorities[i])))return!1;return!0},isRequired:function(){var constraintIndex=this._constraintIndex("required");return!(-1===constraintIndex||-1!==constraintIndex&&!1===this.constraints[constraintIndex].requirements)},getValue:function(){var value;return value="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),!0===this.options.trimValue?value.replace(/^\s+|\s+$/g,""):value},refreshConstraints:function(){return this.actualizeOptions().bindConstraints(),this},bindConstraints:function(){for(var constraints=[],i=0;i<this.constraints.length;i++)!1===this.constraints[i].isDomConstraint&&constraints.push(this.constraints[i]);this.constraints=constraints;for(var name in this.options)this.addConstraint(name,this.options[name]);return this.bindHtml5Constraints()},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var type=this.$element.attr("type");return"undefined"==typeof type?this:"number"===type?this.addConstraint("type","integer",void 0,!0):new RegExp(type,"i").test("email url range")?this.addConstraint("type",type,void 0,!0):void 0},addConstraint:function(name,requirements,priority,isDomConstraint){if(name=name.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[name]){var constraint=new ConstraintFactory(this,name,requirements,priority,isDomConstraint);-1!==this._constraintIndex(constraint.name)&&this.removeConstraint(constraint.name),this.constraints.push(constraint)}return this},removeConstraint:function(name){for(var i=0;i<this.constraints.length;i++)if(name===this.constraints[i].name){this.constraints.splice(i,1);break}return this},updateConstraint:function(name,parameters,priority){return this.removeConstraint(name).addConstraint(name,parameters,priority)},_constraintIndex:function(name){for(var i=0;i<this.constraints.length;i++)if(name===this.constraints[i].name)return i;return-1}};var ParsleyMultiple=function(){this.__class__="ParsleyFieldMultiple"};ParsleyMultiple.prototype={init:function(multiple){return this.$elements=[this.$element],this.options.multiple=multiple,this},addElement:function($element){return this.$elements.push($element),this},refreshConstraints:function(){if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions().bindConstraints(),this;for(var i=0;i<this.$elements.length;i++)this.constraints=this.constraints.concat(this.$elements[i].data("ParsleyFieldMultiple").refreshConstraints().constraints);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var values=[];return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){values.push($(this).val())}),values.length?values:[]}return this.$element.is("select")?null===this.$element.val()?[]:this.$element.val():void 0}};var o=$({}),subscribed={};$.listen=function(name){if("undefined"==typeof subscribed[name]&&(subscribed[name]=[]),"function"==typeof arguments[1])return subscribed[name].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return subscribed[name].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},$.listenTo=function(instance,name,fn){if("undefined"==typeof subscribed[name]&&(subscribed[name]=[]),!(instance instanceof ParsleyField||instance instanceof ParsleyForm))throw new Error("Must give Parsley instance");if("string"!=typeof name||"function"!=typeof fn)throw new Error("Wrong parameters");subscribed[name].push({instance:instance,fn:fn})},$.unsubscribe=function(name,fn){if("undefined"!=typeof subscribed[name]){if("string"!=typeof name||"function"!=typeof fn)throw new Error("Wrong arguments");for(var i=0;i<subscribed[name].length;i++)if(subscribed[name][i].fn===fn)return subscribed[name].splice(i,1)}},$.unsubscribeTo=function(instance,name){if("undefined"!=typeof subscribed[name]){if(!(instance instanceof ParsleyField||instance instanceof ParsleyForm))throw new Error("Must give Parsley instance");for(var i=0;i<subscribed[name].length;i++)if("undefined"!=typeof subscribed[name][i].instance&&subscribed[name][i].instance.__id__===instance.__id__)return subscribed[name].splice(i,1)}},$.unsubscribeAll=function(name){"undefined"!=typeof subscribed[name]&&delete subscribed[name]},$.emit=function(name,instance){if("undefined"!=typeof subscribed[name])for(var i=0;i<subscribed[name].length;i++)if("undefined"!=typeof subscribed[name][i].instance){if(instance instanceof ParsleyField||instance instanceof ParsleyForm)if(subscribed[name][i].instance.__id__!==instance.__id__){if(subscribed[name][i].instance instanceof ParsleyForm&&instance instanceof ParsleyField)for(var j=0;j<subscribed[name][i].instance.fields.length;j++)if(subscribed[name][i].instance.fields[j].__id__===instance.__id__){subscribed[name][i].fn.apply(o,Array.prototype.slice.call(arguments,1));continue}}else subscribed[name][i].fn.apply(o,Array.prototype.slice.call(arguments,1))}else subscribed[name][i].fn.apply("undefined"!=typeof subscribed[name][i].ctxt?subscribed[name][i].ctxt:o,Array.prototype.slice.call(arguments,1))},$.subscribed=function(){return subscribed},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=$.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var Parsley=function(element,options,parsleyInstance){if(this.__class__="Parsley",this.__version__="2.0.0-rc4",this.__id__=ParsleyUtils.hash(4),"undefined"==typeof element)throw new Error("You must give an element");return this.init($(element),options,parsleyInstance)};Parsley.prototype={init:function($element,options,parsleyInstance){if(!$element.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=$element,this.$element.data("Parsley")){var savedParsleyInstance=this.$element.data("Parsley");return"undefined"!=typeof parsleyInstance&&"ParsleyField"===savedParsleyInstance.parsleyInstance.__proxy__&&(savedParsleyInstance.parsleyInstance=parsleyInstance),savedParsleyInstance}return this.OptionsFactory=new ParsleyOptionsFactory(ParsleyDefaults,ParsleyUtils.get(window,"ParsleyConfig")||{},options,this.getNamespace(options)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||ParsleyUtils.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm",parsleyInstance):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(parsleyInstance):this.bind("parsleyField",parsleyInstance):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(parsleyInstance){var name,multiple,parsleyMultipleInstance,that=this;if(this.options=$.extend(this.options,ParsleyUtils.attr(this.$element,this.options.namespace)),this.options.multiple?multiple=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?multiple=name=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(multiple=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",parsleyInstance,multiple||this.__id__);if("undefined"==typeof multiple)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(multiple=multiple.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof name&&$('input[name="'+name+'"]').each(function(){$(this).attr(that.options.namespace+"multiple",multiple)}),$("["+this.options.namespace+"multiple="+multiple+"]").length)for(var i=0;i<$("["+this.options.namespace+"multiple="+multiple+"]").length;i++)if("undefined"!=typeof $($("["+this.options.namespace+"multiple="+multiple+"]").get(i)).data("Parsley")){parsleyMultipleInstance=$($("["+this.options.namespace+"multiple="+multiple+"]").get(i)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(parsleyMultipleInstance.addElement(this.$element),this.$element.attr(this.options.namespace+"id",parsleyMultipleInstance.__id__));break}return this.bind("parsleyField",parsleyInstance,multiple,!0),parsleyMultipleInstance||this.bind("parsleyFieldMultiple",parsleyInstance,multiple)},getNamespace:function(options){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof ParsleyUtils.get(options,"namespace")?options.namespace:"undefined"!=typeof ParsleyUtils.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:ParsleyDefaults.namespace
},bind:function(type,parentParsleyInstance,multiple,doNotStore){var parsleyInstance;switch(type){case"parsleyForm":parsleyInstance=$.extend(new ParsleyForm(this.$element,parentParsleyInstance||this),new ParsleyAbstract,window.ParsleyExtend).init();break;case"parsleyField":parsleyInstance=$.extend(new ParsleyField(this.$element,parentParsleyInstance||this),new ParsleyAbstract,window.ParsleyExtend).init();break;case"parsleyFieldMultiple":parsleyInstance=$.extend(new ParsleyField(this.$element,parentParsleyInstance||this).init(),new ParsleyAbstract,new ParsleyMultiple,window.ParsleyExtend).init(multiple);break;default:throw new Error(type+"is not a supported Parsley type")}return"undefined"!=typeof multiple&&ParsleyUtils.setAttr(this.$element,this.options.namespace,"multiple",multiple),"undefined"!=typeof doNotStore?(this.$element.data("ParsleyFieldMultiple",parsleyInstance),parsleyInstance):(new RegExp("ParsleyF","i").test(parsleyInstance.__class__)&&(this.$element.data("Parsley",parsleyInstance),this.__proxy__=parsleyInstance.__class__,$.emit("parsley:"+("parsleyForm"===type?"form":"field")+":init",parsleyInstance)),parsleyInstance)}},$.fn.parsley=$.fn.psly=function(options){if(this.length>1){var instances=[];return this.each(function(){instances.push($(this).parsley(options))}),instances}return $(this).length?new Parsley(this,options):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof ParsleyUtils.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new ParsleyUI).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=Parsley,window.ParsleyUtils=ParsleyUtils,window.ParsleyValidator=new ParsleyValidator(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==ParsleyUtils.get(window,"ParsleyConfig.autoBind")&&$(document).ready(function(){$("[data-parsley-validate]").length&&$("[data-parsley-validate]").parsley()})}(window.jQuery);var user_location=null;$(document).ready(function(){setupActiveJavaScript(),detectLocation(),scrollFading(),setupAutoScroll(),setupScrollHintAnimation(),setupScrollFadingAndResize(),updateSizes(),updateToolTips(),$(window).on({scroll:scrollFading,resize:function(){windowResize.checkResize(resizeWindow)}}),setTimeout(function(){loadDemoContent()},6e3),loadCoinAnimation()}),function(){}.call(this),function(){}.call(this),$(function(){$(document).foundation()});